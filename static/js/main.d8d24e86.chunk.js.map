{"version":3,"sources":["assets/images/Logo_ViableCities_240pxl.png","assets/images/about/image1.png","assets/images/about/image2.png","assets/images/projects/1-Aktivitetsbaserad-modellering.png","assets/images/projects/2-DDS-energieffektiv-vard.jpg","assets/images/projects/3-Digitalt-kontrollerade-odlingssystem.jpg","assets/images/projects/4-Effektiv-energiplanering.jpg","assets/images/projects/5-Hotmodellering.jpg","assets/images/projects/6-Hallbara-urbana-livstillar.jpg","assets/images/projects/7-Klimatkampen-Uppsala.jpg","assets/images/projects/8-Ladda-lagra-lanka.png","assets/images/projects/9-MERiT.jpg","assets/images/projects/10-Mo-Bo.jpg","assets/images/projects/11-Matt-och-steg.jpg","assets/images/projects/12-SAMIR.jpg","assets/images/projects/13-Sensorer-for-luftmiljo.jpg","assets/images/projects/14-R-energi.JPG","assets/images/projects/15-Sharing-Cities-Sweden.jpg","assets/images/projects/16-Matbutik.jpg","assets/images/projects/17-Smart-Village.png","assets/images/projects/18-Smaskalig-elforsorjning.jpg","assets/images/projects/19-Urban-ICT-Arena.jpg","assets/images/projects/20-Vardeskapande-med-oppna-data.jpg","assets/images/projects/21-3De.jpg","Header.jsx","matrix/MatrixUtility.js","matrix/MatrixTooltip.jsx","matrix/MatrixCircleMenu.jsx","ProjectNavigator.js","matrix/Matrix.jsx","map/Map.jsx","partners/Partners.jsx","filters/Matchmaking.jsx","filters/Filters.jsx","ColorLegendItem.jsx","ColorLegend.jsx","ScaleLegend.jsx","Sidebar.jsx","About.jsx","info-box/InfoBoxSection.jsx","info-box/projectImages.js","info-box/InfoBox.jsx","info-box/AnimatedInfoBox.jsx","App.jsx","usePreloadImages.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","_this","this","viewLinks","map","view","viewMatch","props","location","pathname","includes","toLowerCase","projectMatch","match","react_default","a","createElement","key","className","concat","Link","to","onClick","toggleAbout","href","target","Component","withRouter","col2focus","1","2","3","4","theme2row","testbeds","innovation","financing","management","intelligence","row2theme","5","focusLabel","themeLabel","type2class","Forskningsprojekt","Innovationsprojekt","Förstudie","circleRadius","area","Math","sqrt","PI","circleSizes","ticks","value","project","label","format","display","budget","arguments","length","undefined","survey_answers","funded","replace","partners","Object","toConsumableArray","Set","other_financiers","other_recipients","locations","projectTypes","projectTypeColors","scaleOrdinal","range","rgb","domain","parseNewlinesY","texts","each","text","select","words","split","x","attr","dy","parseFloat","forEach","word","i","append","newlinesXTransform","y","parseNewlinesX","ind","insert","createLabelBackground","bbox","node","getBBox","parentNode","width","height","classed","MatrixTooltip","nextProps","style","top","margin","r","offset","left","project_title","MatrixCircleMenu","transform","cx","cy","x1","x2","y1","y2","d","t","lib","filter","data","values","valueField","textField","circleSize","onChange","updateCircleSize","ProjectNavigator","rootPath","classCallCheck","_hasChangedSinceInit","history","matchPath","path","exact","push","id","filteredData","GetProjectId","find","project_id","prevLocation","params","masterTransition","transition","duration","ease","easePolyOut","exponent","Matrix","possibleConstructorReturn","getPrototypeOf","call","state","hoveredProject","guideMode","right","bottom","projectNavigator","draw","bind","assertThisInitialized","_this2","svg","svgRef","svgInner","circleSizeWrapper","circleSizeWrapperRef","scaleX","scalePoint","padding","scaleY","circles","on","event","tagName","goToRoot","debounce","window","addEventListener","prevProps","prevState","updateHovered","updateClicked","isEqual","updateData","setState","removeEventListener","init","svgWrapperRef","clientHeight","clientWidth","projectExists","optimalHeight","optimalWidth","oldWidth","oldHeight","dimensionsChanged","selectors","yAxis","themesLabel","xAxis","focusAreasLabel","keys","s","axisLeft","tickSize","yAxisSelection","selection","selectAll","empty","e","axisTop","xAxisSelection","prevProject","projectId","prevProjectId","hasChangedSinceInit","change","datum","neighborSelector","pins","pin","row","col","join","redirectToRoot","_this3","packedData","obj","_loop","theme","maxEnclose","sort","b","packSiblings","max","packEnclose","rScale","min","step","arr","_loop2","_loop3","objectSpread","packData","updateScaleData","sortedPackedData","minSize","maxSize","labelNumbers","circleRadii","significantFigures","Number","parseInt","toPrecision","number","buildScaleData","circle","exit","remove","enter","project_type","goToProject","_this4","ref","svgWrapper","src_matrix_MatrixTooltip","src_matrix_MatrixCircleMenu","Map","scaleLegendDebounce","updateScaleLegend","zoom","d3","scaleExtent","zoomed2","g","projection","rotate","scale","center","translate","multiple_projects_box","projects","cities_container","tooltip","tooltip2","tooltip3","tooltip3_showed","project_count_city","cities_circles","cities","coordinates","html","name","offsetX","offsetY","topojson","europe","objects","features","sweden","subunits","j","dat","mockData_real","tetra","da","leng","JSON","parse","stringify","loc_circles","tetr","ob","xx_loc","ab","xx","k","tt","xxx","project_circles","c","project_coordinates","apply","tx","id_real","projects_listed","afa","circle_transform","circle_size_increase","project_size_increase","getAttribute","radius","_this5","Partners","omrade_titles","0","helix_colors","helix_colors_borders","omrade_titles_x","omrade_titles_y","projectSpace","projspace_title_x","projspace_title_y","project_no","bubbles","nodes","view_option","forceStrength","createNewNodes","button_collection","normal_button","move_bubbles","helix_button","expand_button","projspace_title","mockData","button_collections","project_buttons","change_view_spec","omradeCenters","class","simulation","velocityDecay","force","strength","charge","ticked","stop","maxAmount","total_amount","radiusScale","bubblesE","kategori","organisation","merge","omradeData","years","temp_str","projData2","projTitlesObj","opt","omrade_view","project_view","alpha","restart","toggle_title","projs","pow","proj_opt","rawData","q_o","Civilsamhälle","Forskning","Näringsliv","Offentlig verksamhet","myNodes","Organisation","random","Projects","Kategori","scaleFactor","Matchmaking","expanded","handleChange","position","substring","parsePosition","valueCopy","index","findIndex","item","splice","checked","rows","ROWS","COLS","type","isChecked","disabled","enabled","columns","defaultProps","intersection","_len","Array","_key","_intersection","ListItem","_ref","count","Filters","filteredBy","titles","keywords","matchmaking","filterValues","prevFilteredData","componentData","projectLocations","projectPartners","projectKeywords","add","financier","recipient","keyword","filterBy","some","has","partner","every","entries","_ref2","_ref3","slicedToArray","_ref4","_ref5","filteredByAllExcept","ret","set","get","reduce","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","colRange","nonEmpty","nextState","newFilteredData","updateFilteredData","buildTitlesList","buildLocationList","buildPartnerList","buildKeywordList","buildMatchmakingList","placeholder","itemComponent","src_filters_Matchmaking","react","_ref12","_ref13","defineProperty","ColorLegendItem","color","background","RouteColorLegend","items","labels","src_ColorLegendItem","ColorLegend","matrixLabels","partnersLabels","legends","matrix","route","web","native","from","opacity","leave","div","ScaleLegend","parent","parentRef","lineWidth","labelWidth","scaleData","fixedData","slice","reverse","svgHeight","svgHeightChange","parentWidth","parentWidthChange","Sidebar","noPartners","rel","src","logo","alt","visibility","src_filters_Filters","src_ScaleLegend_0","src_ColorLegend_0","About","about","currentTarget","image1","image2","InfoBoxSection","toggle","initToggle","onToggle","title","children","projectImages","p1","p2","p3","p4","p5","6","p6","7","p7","8","p8","9","p9","10","p10","11","p11","12","p12","13","p13","14","p15","15","p14","16","p16","17","p17","18","p18","19","p19","20","p20","21","p21","InfoBox","lastProject","stringList","str","acc","cur","_project$survey_answe","project_organization","project_manager","dates","description","link","website","views","vizViews","viewName","backgroundImage","src_info_box_InfoBoxSection","total_cost","start","end","decorateItems","AnimatedInfoBox","projectDetails","src_info_box_InfoBox","App","_useState","useState","_useState2","setFilteredData","_useState3","_useState4","setScaleData","_useState5","_useState6","setAbout","useLayoutEffect","url","Image","newData","BrowserRouter","basename","process","src_Header_0","src_About_0","src_Sidebar_0","Switch","Route","render","Redirect","src_map_Map","src_matrix_Matrix","partners_Partners","src_info_box_AnimatedInfoBox","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d8d24e86.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/image2.6026cdaf.png\";","module.exports = __webpack_public_path__ + \"static/media/1-Aktivitetsbaserad-modellering.1074af03.png\";","module.exports = __webpack_public_path__ + \"static/media/2-DDS-energieffektiv-vard.289abdde.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3-Digitalt-kontrollerade-odlingssystem.1d19642a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4-Effektiv-energiplanering.ea5820f2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5-Hotmodellering.b9fbeb16.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6-Hallbara-urbana-livstillar.0c4ecf15.jpg\";","module.exports = __webpack_public_path__ + \"static/media/7-Klimatkampen-Uppsala.fba5b34a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8-Ladda-lagra-lanka.a75f29f3.png\";","module.exports = __webpack_public_path__ + \"static/media/9-MERiT.483be082.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10-Mo-Bo.87f2f9fc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/11-Matt-och-steg.80797cbb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/12-SAMIR.d14d2eb6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/13-Sensorer-for-luftmiljo.4362eb63.jpg\";","module.exports = __webpack_public_path__ + \"static/media/14-R-energi.05d591b6.JPG\";","module.exports = __webpack_public_path__ + \"static/media/15-Sharing-Cities-Sweden.0c3256df.jpg\";","module.exports = __webpack_public_path__ + \"static/media/16-Matbutik.1f0245a6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/17-Smart-Village.c9934f37.png\";","module.exports = __webpack_public_path__ + \"static/media/18-Smaskalig-elforsorjning.83dc4dda.jpg\";","module.exports = __webpack_public_path__ + \"static/media/19-Urban-ICT-Arena.d10de260.jpg\";","module.exports = __webpack_public_path__ + \"static/media/20-Vardeskapande-med-oppna-data.c4bb7c0c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/21-3De.05da2369.jpg\";","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter } from 'react-router';\r\nimport './Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const views = ['Map', 'Matrix', 'Partners']\r\n    const viewLinks = views.map(view => {\r\n      const viewMatch = this.props.location.pathname.includes(view.toLowerCase());\r\n      const projectMatch = this.props.location.pathname.match(/\\/project\\/(\\d+)/);\r\n      return (\r\n        <li key={view}\r\n          className={`header-links__item ${viewMatch ? 'header-links__item--active' : ''}`}>\r\n          <Link className=\"header-links__item-link\" to={`/${view.toLowerCase() + (projectMatch !== null && view !== 'Partners' ? `/project/${projectMatch[1]}` : '')}`}>\r\n            {view}\r\n          </Link>\r\n        </li>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-content__left\">\r\n            <ul className=\"header-links\">\r\n              {viewLinks}\r\n            </ul>\r\n          </div>\r\n          <div className=\"header-content__right\">\r\n            <ul className=\"header-links\">\r\n              <li className=\"header-links__item\"><button className=\"header-links__item-link\" onClick={this.props.toggleAbout}>About</button></li>\r\n              <li className=\"header-links__item header-links__item--primary\"><a className=\"header-links__item-link\" href=\"https://goo.gl/forms/bX9jxwEtvLveayls2\" target=\"_blank\">Lämna Feedback</a></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = {\r\n  toggleAbout: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withRouter(Header);\r\n","import { scaleOrdinal, rgb, packSiblings, packEnclose, select, range, format } from 'd3';\n\nexport const col2focus = {\n  1: 'focus_lifestyle',\n  2: 'focus_planning',\n  3: 'focus_mobility',\n  4: 'focus_infrastructure'\n};\n\nexport const theme2row = {\n  testbeds: 1,\n  innovation: 2,\n  financing: 3,\n  management: 4,\n  intelligence: 5\n};\n\nexport const row2theme = {\n  1: 'testbeds',\n  2: 'innovation',\n  3: 'financing',\n  4: 'management',\n  5: 'intelligence'\n};\n\nexport const focusLabel = {\n  1: 'Livsstil och  konsumtion',\n  2: 'Planering och  byggd miljö',\n  3: 'Mobilitet och  tillgänglighet',\n  4: 'Integrerad  infrastruktur'\n};\n\nexport const themeLabel = {\n  1: 'Testbäddar och  living labs',\n  2: 'Innovation och  entreprenörskap',\n  3: 'Finansierings- och  affärsmodeller',\n  4: 'Styrning',\n  5: 'Intelligens,  cybersäkerhet  och etik'\n};\n\nexport const type2class = {\n  'Forskningsprojekt': 'research',\n  'Innovationsprojekt': 'innovation',\n  'Förstudie': 'prestudy'\n}\n\nexport function circleRadius(area) {\n  return Math.sqrt(area / Math.PI);\n}\n\nexport function ticks(project) {\n  //return Object.values(col2focus).reduce((sum, focusArea) => sum + project.survey_answers[focusArea].length, 0);\n}\n\nexport const circleSizes = {\n  ticks: {\n    value: project => 1,\n    label: label => `${format('d')(label)} tick`,\n    display: 'Tick',\n    key: 'ticks'\n  },\n  budget: {\n    value: (project, normalize = false) => project.survey_answers.budget.funded,\n    label: label => `${format(',')(label).replace(/,/g, ' ')} kr`,\n    display: 'Budget',\n    key: 'budget'\n  },\n  partners: {\n    value: project => [...new Set([...project.survey_answers.other_financiers, ...project.survey_answers.other_recipients])].length,\n    label: label => `${format('d')(label)} partners`,\n    display: 'Partners',\n    key: 'partners'\n  },\n  locations: {\n    value: project => project.survey_answers.locations.length,\n    label: label => `${format('d')(label)} platser`,\n    display: 'Platser',\n    key: 'locations'\n  }\n}\n\nexport const projectTypes = ['Forskningsprojekt', 'Innovationsprojekt', 'Förstudie'];\nexport const projectTypeColors = scaleOrdinal()\n  .range([rgb(0, 125, 145), rgb(151, 194, 142), rgb(234, 154, 0)]) // pms 3145, pms 2255, pms 2011\n  .domain(projectTypes);\n\nexport function packData(data, scaleX, scaleY, circleSize) {\n  // first, group together circles that are\n  // at the same position in the matrix\n  const obj = {};\n  for (let row = 1; row <= 5; ++row) {\n    obj[row] = {};\n    for (let col = 1; col <= 4; ++col) {\n      obj[row][col] = [];\n    }\n  }\n  data.data.forEach(project => {\n    const pins = []; // so that a circle can find its buddies\n    for (let col = 1; col <= 4; ++col) {\n      project.survey_answers[col2focus[col]].forEach(theme => {\n        pins.push({\n          row: theme2row[theme],\n          col\n        });\n        obj[theme2row[theme]][col].push({\n          row: theme2row[theme],\n          col,\n          pins,\n          survey_answers: project.survey_answers,\n          r: circleRadius(circleSize.value(project))\n        })\n      });\n    }\n  });\n\n\n\n  // first pass: pack circles and find the \"optimal scale\"\n  // and redo the circle radii to use that scale\n  let maxEnclose = 0;\n  for (let row = 1; row <= 5; ++row) {\n    for (let col = 1; col <= 4; ++col) {\n      if (!obj[row][col].length) continue; // if empty continue\n      obj[row][col].sort((a, b) => b.r - a.r);\n      //obj[row][col].sort((a, b) => a.survey_answers.project_title.localeCompare(b.survey_answers.project_title));\n      packSiblings(obj[row][col]);\n      maxEnclose = Math.max(maxEnclose, packEnclose(obj[row][col]).r);\n    }\n  }\n  const optimalEncloseRadius = Math.min(scaleX.step() / 2, scaleY.step() / 2); // * 0.95?\n  const rScale = optimalEncloseRadius / maxEnclose;\n  for (let row = 1; row <= 5; ++row) {\n    for (let col = 1; col <= 4; ++col) {\n      obj[row][col].forEach(pin => {\n        pin.r = circleRadius(circleSize.value(pin)) * rScale;\n      });\n    }\n  }\n\n  // second pass: pack again, fix positions\n  // and return as a flat list\n  const arr = [];\n  for (let row = 1; row <= 5; ++row) {\n    for (let col = 1; col <= 4; ++col) {\n      packSiblings(obj[row][col]).forEach(pin => {\n        arr.push({\n          ...pin,\n          x: pin.x + scaleX(col),\n          y: pin.y + scaleY(row),\n          rScale\n        })\n      });\n    }\n  }\n  return arr;\n}\n\nexport function buildScaleData(packedData, circleSize) {\n  if (!packedData.length) return null;\n\n  const sortedPackedData = [...packedData].sort((a, b) => circleSize.value(a) - circleSize.value(b));\n  const minSize = circleSize.value(sortedPackedData[0]);\n  const maxSize = circleSize.value(sortedPackedData[sortedPackedData.length - 1]);\n  const rScale = packedData[0].rScale;\n\n  let labelNumbers = [];\n  const circleRadii = [];\n\n  const significantFigures = Number.parseInt(maxSize) > 1000000 ? 1 : 2;\n\n  labelNumbers[0] = Number.parseInt(maxSize).toPrecision(significantFigures);\n  labelNumbers[1] = Number.parseInt(maxSize / 2).toPrecision(significantFigures);\n  labelNumbers[2] = Number.parseInt(maxSize / 10).toPrecision(significantFigures);\n  labelNumbers = labelNumbers.map(number => Number.parseInt(number) === 0 ? 1 : Number.parseInt(number));\n\n  circleRadii[0] = circleRadius(labelNumbers[0]) * rScale;\n  circleRadii[1] = circleRadius(labelNumbers[1]) * rScale;\n  circleRadii[2] = circleRadius(labelNumbers[2]) * rScale;\n\n  if (Number.parseInt(maxSize).toPrecision(significantFigures) === Number.parseInt(minSize).toPrecision(significantFigures))\n    return [{\n      r: circleRadii[0],\n      label: circleSize.label(labelNumbers[0])\n    }];\n\n  if (labelNumbers[0] === labelNumbers[1] || labelNumbers[1] === labelNumbers[2])\n    return [0, 2].map(i => ({\n      r: circleRadii[i],\n      label: circleSize.label(labelNumbers[i])\n    }));\n\n  return range(3).map(i => ({\n    r: circleRadii[i],\n    label: circleSize.label(labelNumbers[i])\n  }));\n}\n\n// inspired by https://bl.ocks.org/mbostock/7555321\n// replaces double spaces in the labels with fake \"newlines\"\n// (tspan elements) and fixes their positions\nexport function parseNewlinesY(texts) {\n  texts.each(function() {\n    const text = select(this);\n    const words = text.text().split(/ {2}/);\n    const x = text.attr('x');\n    const dy = parseFloat(text.attr('dy'));\n    text.text(null);\n    const lineHeight = 1.1; // em\n    words.forEach((word, i) => {\n      text.append('tspan')\n          .text(word)\n          .attr('x', x)\n          .attr('y', `-${(words.length - 1) * lineHeight / 2}em`)\n          .attr('dy', `${dy + (i * lineHeight)}em`);\n    });\n  });\n}\n// if the label should be rotated, change the rotate value here\nexport function newlinesXTransform(y) {\n  return `translate(0,${y})rotate(0)translate(0,${-y})`;\n}\nexport function parseNewlinesX(texts) {\n  texts.each(function() {\n    const text = select(this).attr('text-anchor', 'middle');\n    const words = text.text().split(/ {2}/);\n    const y = text.attr('y');\n    text.text(null);\n    const lineHeight = 1.1; // em\n    words.forEach((word, i) => {\n      const ind = i === words.length - 1 ? 0 : 1;\n      text.insert('tspan', ':first-child')\n          .text(word)\n          .attr('x', 0)\n          .attr('dy', `-${ind * lineHeight}em`);\n    });\n    text.attr('transform', newlinesXTransform(y));\n  });\n}\nexport function createLabelBackground(texts) {\n  texts.each(function() {\n    const text = select(this);\n    const bbox = text.node().getBBox();\n    text.select(function() { return this.parentNode; })\n      .insert('rect', ':first-child')\n        .attr('x', bbox.x)\n        .attr('y', bbox.y)\n        .attr('width', bbox.width)\n        .attr('height', bbox.height)\n        //.style('fill', 'red')\n        .classed('label-background', true);\n      });\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './MatrixTooltip.css';\r\n\r\nconst topOffset = 10;\r\n\r\nclass MatrixTooltip extends Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.project !== this.props.project) return true;\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.project) return null;\r\n\r\n    return (\r\n      <div\r\n        className=\"matrix-tooltip\"\r\n        style={{\r\n          top: this.props.project.y + this.props.margin.top - this.props.project.r - topOffset + this.props.offset.y,\r\n          left: this.props.project.x + this.props.margin.left + this.props.offset.x\r\n        }}>\r\n        {this.props.project.survey_answers.project_title}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMatrixTooltip.propTypes = {\r\n  project: PropTypes.object,\r\n  margin: PropTypes.shape({\r\n    top: PropTypes.number,\r\n    right: PropTypes.number,\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number\r\n  }).isRequired,\r\n  offset: PropTypes.shape({\r\n    x: PropTypes.number,\r\n    y: PropTypes.number\r\n  }).isRequired\r\n};\r\n\r\nexport default MatrixTooltip;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DropdownList } from 'react-widgets'\r\nimport { circleSizes } from './MatrixUtility';\r\nimport './MatrixCircleMenu.css';\r\n\r\nclass MatrixCircleMenu extends Component {\r\n  /**\r\n   * ALT POLYGONS FOR ARROWS:\r\n   *  <polygon points={`${offset} ${r}, ${t + offset} ${r + t}, ${t + offset} ${r - t}`} />\r\n   *  <polygon points={`${r * 2 - offset} ${r}, ${r * 2 - t - offset} ${r + t}, ${r * 2 - t - offset} ${r - t}`} />\r\n   */\r\n\r\n  render() {\r\n    const r = 12;\r\n    const t = 3;\r\n    const offset = 2;\r\n\r\n    return (\r\n      <div className=\"matrix-circle-menu\">\r\n        <div className=\"matrix-circle-menu__svg-wrapper\" style={{ width: r * 2 + 2, height: r * 2 + 2 }}>\r\n          <svg width=\"100%\" height=\"100%\">\r\n            <g transform=\"translate(1, 1)\">\r\n              <circle cx={r} cy={r} r={r} />\r\n              <g transform={`translate(${r}, ${r})rotate(45)translate(${-r}, ${-r})`}>\r\n                <line x1={offset} x2={r * 2 - offset} y1={r} y2={r} />\r\n                <path d={`M ${t + offset} ${r + t} L ${offset} ${r} L ${t + offset} ${r - t}`} />\r\n                <path d={`M ${r * 2 - t - offset} ${r + t} L ${r * 2 - offset} ${r} L ${r * 2 - t - offset} ${r - t}`} />\r\n              </g>\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        <div className=\"matrix-circle-menu__dropdown-wrapper\">\r\n          <DropdownList\r\n            filter={false}\r\n            data={Object.values(circleSizes)}\r\n            valueField='key'\r\n            textField='display'\r\n            value={this.props.circleSize}\r\n            onChange={this.props.updateCircleSize} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }  \r\n}\r\n\r\nMatrixCircleMenu.propTypes = {\r\n  circleSize: PropTypes.object.isRequired,\r\n  updateCircleSize: PropTypes.func.isRequired\r\n}\r\n\r\nexport default MatrixCircleMenu;\r\n","import { matchPath } from 'react-router';\r\n\r\n// NOTE: For all methods that take props as an argument, it assumed that props is an object which contains\r\n// the history property and the filteredData property. If the history property is missing, make sure to \r\n// use the 'withRouter' higher-order-component on whatever component ProjectNavigator is used from.\r\nclass ProjectNavigator {\r\n  constructor(rootPath = '') {\r\n    this.rootPath = rootPath;\r\n    this._hasChangedSinceInit = false;\r\n  }\r\n\r\n  static GetProjectId(location) {\r\n    const match = matchPath(location.pathname, { path: `*/project/:id` });\r\n    if (match !== null)\r\n      return match.params.id;\r\n    return -1;\r\n  }\r\n\r\n  hasChangedSinceInit() {\r\n    return this._hasChangedSinceInit;\r\n  }\r\n\r\n  change() {\r\n    this._hasChangedSinceInit = true;\r\n  }\r\n\r\n  redirectToRoot(history) {\r\n    history.replace(this.rootPath);\r\n  }\r\n\r\n  goToRoot(history, location) {\r\n    if (matchPath(location.pathname, { path: this.rootPath, exact: true }) === null) {\r\n      this._hasChangedSinceInit = true;\r\n      history.push(this.rootPath);\r\n    }\r\n  }\r\n\r\n  goToProject(history, location, id) {\r\n    const path = `${this.rootPath}/project/${id}`;\r\n    if (matchPath(location.pathname, { path }) === null) {\r\n      this._hasChangedSinceInit = true;\r\n      history.push(path);\r\n    }\r\n  }\r\n\r\n  projectExists(location, filteredData) {\r\n    const id = ProjectNavigator.GetProjectId(location);\r\n    if (filteredData.data.find(d => d.survey_answers.project_id === id))\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n  projectHasChanged(location, prevLocation) {\r\n    return ProjectNavigator.GetProjectId(location) !== ProjectNavigator.GetProjectId(prevLocation);\r\n  }\r\n}\r\n\r\nexport const GetProjectId = ProjectNavigator.GetProjectId;\r\nexport default ProjectNavigator;\r\n","import React, { Component } from 'react';\r\nimport { select, axisLeft, axisTop, event, scalePoint, easePolyOut } from 'd3';\r\nimport { themeLabel, focusLabel, packData, buildScaleData, parseNewlinesY, newlinesXTransform, parseNewlinesX, createLabelBackground, type2class, circleSizes } from './MatrixUtility';\r\nimport { withRouter } from 'react-router-dom';\r\nimport MatrixTooltip from './MatrixTooltip';\r\nimport MatrixCircleMenu from './MatrixCircleMenu';\r\nimport PropTypes from 'prop-types';\r\nimport isEqual from 'react-fast-compare';\r\nimport debounce from 'lodash.debounce';\r\nimport ProjectNavigator from '../ProjectNavigator';\r\nimport './Matrix.css';\r\n\r\nconst masterTransition = (transition) => transition.duration(800).ease(easePolyOut.exponent(4));\r\n\r\nclass Matrix extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hoveredProject: null,\r\n      circleSize: circleSizes.ticks,\r\n      guideMode: false\r\n    };\r\n\r\n    this.margin = { top: 100, right: 20, bottom: 20, left: 190 };\r\n    this.offset = { x: 0,  y: 0 };\r\n    this.projectNavigator = new ProjectNavigator('/matrix');\r\n    this.draw = this.draw.bind(this);\r\n    this.updateCircleSize = this.updateCircleSize.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.svg = select(this.svgRef);\r\n\r\n    // used for transforming the contents of the svg, if necessary\r\n    this.svgInner = this.svg\r\n      .append('g')\r\n        .classed('matrix-svg-inner', true);\r\n\r\n    // used for moving around the circle menu\r\n    this.circleSizeWrapper = select(this.circleSizeWrapperRef)\r\n      .style('transform', 'translate(0, 0)');\r\n\r\n    this.scaleX = scalePoint()\r\n        .domain([1,2,3,4])\r\n        .padding(0.5)\r\n    this.scaleY = scalePoint()\r\n        .domain([1,2,3,4,5])\r\n        .padding(0.5)\r\n\r\n    // y-axis\r\n    this.svgInner.append('g')\r\n        .classed('matrix-y-axis', true);\r\n\r\n    // themes label\r\n    this.svgInner.append('text')\r\n        .classed('themes-label', true)\r\n        .classed('matrix-axis-label', true)\r\n        .text('Teman');\r\n\r\n    // x-axis\r\n    this.svgInner.append('g')\r\n        .classed('matrix-x-axis', true);\r\n\r\n    // focus areas label\r\n    this.svgInner.append('text')\r\n        .classed('focus-areas-label', true)\r\n        .classed('matrix-axis-label', true)\r\n        .text('Fokusområden');\r\n\r\n    // make some circles\r\n    this.circles = this.svgInner.append('g').classed('circles', true);\r\n    this.draw(true);\r\n\r\n    // clear clickedProject when clicking outside of any circle\r\n    this.svg.on('click', () => {\r\n      if (event.target.tagName !== 'circle') {\r\n        this.projectNavigator.goToRoot(this.props.history, this.props.location);\r\n      }\r\n    });\r\n\r\n    this.debounce = debounce(() => this.draw(), 100);\r\n    window.addEventListener('resize', this.debounce);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    this.updateHovered(this.state.hoveredProject, prevState.hoveredProject);\r\n    this.updateClicked(this.props, prevProps);\r\n\r\n    if (!isEqual(this.props.filteredData, prevProps.filteredData) ||\r\n      this.state.circleSize !== prevState.circleSize) {\r\n      this.updateData(this.props.filteredData);\r\n      this.setState({\r\n        hoveredProject: null\r\n      });\r\n      this.projectNavigator.goToRoot(this.props.history, this.props.location);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.debounce);\r\n    this.svg.on('click', null);\r\n  }\r\n\r\n  draw(init = false) {\r\n    let height = +this.svgWrapperRef.clientHeight - this.margin.top - this.margin.bottom;\r\n    let width = +this.svgWrapperRef.clientWidth - this.margin.left - this.margin.right;\r\n\r\n    // 300 px is the size of the infobox that appears when a project is clicked!\r\n    if (this.projectNavigator.projectExists(this.props.location, this.props.filteredData)) width -= 300;\r\n    \r\n    const stretch = false;\r\n    if (!stretch) {\r\n      const aspectRatio = 5 / 5; // 4 / 5 is \"optimal\"\r\n      const optimalHeight = width * 1 / aspectRatio;\r\n      const optimalWidth = height * aspectRatio;\r\n\r\n      if ((optimalHeight + this.margin.top + this.margin.bottom) <= this.svgWrapperRef.clientHeight) {\r\n        this.offset = { x: 0, y: (height - optimalHeight) / 2 };\r\n        height = optimalHeight;\r\n      } else {\r\n        this.offset = { x: (width - optimalWidth) / 2, y: 0 };\r\n        width = optimalWidth;\r\n      }\r\n    }\r\n\r\n    // this is useful further down, if the width/height didn't change, we don't need to call updateData!\r\n    const oldWidth = this.scaleX.range()[1];\r\n    const oldHeight = this.scaleY.range()[1];\r\n    const dimensionsChanged = oldWidth !== width || oldHeight !== height;\r\n\r\n    // update scales\r\n    this.scaleX.range([0, width]);\r\n    this.scaleY.range([0, height]);\r\n\r\n    // set up selectors\r\n    const selectors = {\r\n      svgInner: this.svgInner,\r\n      circleSizeWrapper: this.circleSizeWrapper,\r\n      yAxis: this.svgInner.select('g.matrix-y-axis'),\r\n      themesLabel: this.svgInner.select('text.themes-label'),\r\n      xAxis: this.svgInner.select('g.matrix-x-axis'),\r\n      focusAreasLabel: this.svgInner.select('text.focus-areas-label')\r\n    }\r\n    if (!init)\r\n      Object.keys(selectors).forEach(s => selectors[s] = selectors[s].transition().call(masterTransition));\r\n\r\n    selectors.svgInner\r\n        .attr('transform', `translate(${this.offset.x}, ${this.offset.y})`);\r\n\r\n    selectors.circleSizeWrapper\r\n        //.style('top', `${this.offset.y + this.margin.top - 40}px`)\r\n        //.style('left', `${this.offset.x + this.margin.left - 110}px`);\r\n        .style('transform', `translate(${this.offset.x + this.margin.left - 120}px, ${this.offset.y + this.margin.top - 40}px)`);\r\n\r\n    // themes label\r\n    selectors.themesLabel\r\n        .attr('transform', `translate(25, ${this.margin.top + height / 2})rotate(-90)`);\r\n\r\n    // focus areas label\r\n    selectors.focusAreasLabel\r\n        .attr('transform', `translate(${this.margin.left + width / 2}, 35)`);\r\n\r\n    /**\r\n     * NOTE: The default text elements (labels) on the axes are hidden and replaced to\r\n     * allow for two things: (1) splitting up the labels into multiple lines and (2)\r\n     * having transitions. The default labels can support (1) and (2) separately but not \r\n     * at the same time! So that's why there's some extra code here\r\n     *\r\n     * We don't want remove the original text element and .domain,\r\n     * if we remove the text element, d3-axis will start fucking with our label\r\n     * (changin text contents, position etc)\r\n     * if we remove .domain, d3-axis will just add it again next draw call.\r\n     */\r\n\r\n    // (equivalent to axis.tickPadding [but hardcoded])\r\n    const tickPadding = 20;\r\n\r\n    // y-axis\r\n    selectors.yAxis\r\n        .attr('transform', `translate(${width + this.margin.left}, ${this.margin.top})`)\r\n        .call(axisLeft(this.scaleY).tickSize(width))\r\n    const yAxisSelection = selectors.yAxis.selection ? selectors.yAxis.selection() : selectors.yAxis;\r\n    if (yAxisSelection.selectAll('.tick text.label').empty()) {\r\n      yAxisSelection\r\n          .call(e => e.selectAll('.tick text').attr('display', 'none'))\r\n          .call(e => e.select('.domain').attr('display', 'none'))\r\n        .selectAll('.tick')\r\n        .append('text')\r\n          .classed('label', true)\r\n          .text(i => themeLabel[i])\r\n          .attr('fill', 'currentColor')\r\n          .attr('x', -width - tickPadding)\r\n          .attr('dy', '0.32em') // see d3-axis source code\r\n          .call(parseNewlinesY)\r\n          .call(createLabelBackground);\r\n    } else {\r\n      const x = -width - tickPadding;\r\n      selectors.yAxis.selectAll('.tick text.label')\r\n          .attr('x', x)\r\n        .selectAll('tspan')\r\n          .attr('x', x);\r\n    }\r\n\r\n    // x-axis\r\n    selectors.xAxis\r\n        .attr('transform', `translate(${this.margin.left}, ${height + this.margin.top})`)\r\n        .call(axisTop(this.scaleX).tickSize(height))\r\n    const xAxisSelection = selectors.xAxis.selection ? selectors.xAxis.selection() : selectors.xAxis;\r\n    if (xAxisSelection.selectAll('.tick text.label').empty()) {\r\n      xAxisSelection\r\n          .call(e => e.selectAll('.tick text').attr('display', 'none'))\r\n          .call(e => e.select('.domain').attr('display', 'none'))\r\n        .selectAll('.tick')\r\n        .append('text')\r\n          .classed('label', true)\r\n          .text(i => focusLabel[i])\r\n          .attr('fill', 'currentColor')\r\n          .attr('y', -height - tickPadding)\r\n          .attr('dy', '0em') // see d3-axis source code\r\n          .call(parseNewlinesX)\r\n          .call(createLabelBackground);\r\n    } else {\r\n      const y = -height - tickPadding;\r\n      selectors.xAxis.selectAll('.tick text.label')\r\n          .attr('y', y)\r\n          .attr('transform', newlinesXTransform(y));\r\n    }\r\n\r\n    if (dimensionsChanged)\r\n      this.updateData(this.props.filteredData);\r\n  }\r\n\r\n  updateHovered(project, prevProject) {\r\n    if (project === prevProject)\r\n      return;\r\n\r\n    if (prevProject !== null)\r\n      this.circles.selectAll('.hover')\r\n          .classed('hover', false);\r\n\r\n    if (project !== null)\r\n      this.circles.selectAll(`[data-id='${project.survey_answers.project_id}']`)\r\n          .classed('hover', true);\r\n  }\r\n\r\n  updateClicked(props, prevProps) {\r\n    let projectId = ProjectNavigator.GetProjectId(props.location);\r\n    let prevProjectId = ProjectNavigator.GetProjectId(prevProps.location);\r\n\r\n    // if we just started, (i.e. navigated to the site via a permalink with a project id)\r\n    // the projectId and prevProjectId will be identical because of how prevProps.location works\r\n    // so change it to -1.\r\n    if (!this.projectNavigator.hasChangedSinceInit()) {\r\n      prevProjectId = -1;\r\n      this.projectNavigator.change();\r\n    }\r\n\r\n    if (projectId === prevProjectId) return;\r\n\r\n    // necessary only if clicking a project changes svgWrapper size (i.e. infobox takes up more or less space than before)\r\n    if ((projectId === -1 && prevProjectId !== -1) || (projectId !== -1 && prevProjectId === -1))\r\n      this.draw();\r\n\r\n    // clean up from prev\r\n    if (prevProjectId !== -1 && this.svg.classed('clicked')) {\r\n      this.svg.classed('clicked', false);\r\n      this.circles.selectAll('.neighbor')\r\n          .classed('neighbor', false);\r\n      this.circles.selectAll('.clicked')\r\n          .classed('clicked', false);\r\n    }\r\n\r\n    // if no project in path, we done\r\n    if (projectId === -1) return;\r\n\r\n    // if the project from the url doesn't exist in filteredData, redirect to root\r\n    if (!this.projectNavigator.projectExists(props.location, props.filteredData)) {\r\n      this.projectNavigator.redirectToRoot(props.history);\r\n      return;\r\n    }\r\n\r\n    // make a mess with current\r\n    const datum = this.circles.select(`[data-id='${projectId}']`).datum();\r\n    const neighborSelector = datum.pins\r\n      .map(pin => `[data-row='${pin.row}'][data-col='${pin.col}']`)\r\n      .join(', ');\r\n    this.svg.classed('clicked', true);\r\n    this.circles.selectAll(neighborSelector)\r\n        .classed('neighbor', true);\r\n    this.circles.selectAll(`[data-id='${datum.survey_answers.project_id}']`)\r\n        .classed('clicked', true);\r\n  }\r\n\r\n  updateData(data) {\r\n    const packedData = packData(data, this.scaleX, this.scaleY, this.state.circleSize);\r\n    this.props.updateScaleData(buildScaleData(packedData, this.state.circleSize));\r\n    const circle = this.circles\r\n      .selectAll('circle')\r\n      .data(packedData, d => `${d.survey_answers.project_id}[${d.row},${d.col}]`);\r\n\r\n    circle.exit()\r\n        // NOTE: These lines caused a nasty bug when calling updateData more than once in quick succession\r\n        //       with different subsets of data. But they shouldn't be needed regardlessly.\r\n        //.on('mouseover', null)\r\n        //.on('mouseout', null)\r\n        //.on('click', null))\r\n      .transition()\r\n        .call(masterTransition)\r\n        .attr('r', 0)\r\n        .remove();\r\n\r\n    circle\r\n      .transition()\r\n        .call(masterTransition)\r\n        .attr('r', d => d.r)\r\n        .attr('transform', d => `translate(${d.x + this.margin.left},${d.y + this.margin.top})`);\r\n\r\n    circle.enter().append('circle')\r\n        .attr('transform', d => `translate(${d.x + this.margin.left},${d.y + this.margin.top})`)\r\n        .attr('data-id', d => d.survey_answers.project_id)\r\n        .attr('data-row', d => d.row)\r\n        .attr('data-col', d => d.col)\r\n        .attr('class', d => type2class[d.survey_answers.project_type])\r\n        .on('mouseover', d => this.setState({\r\n          hoveredProject: d\r\n        }))\r\n        .on('mouseout', d => this.setState({\r\n          hoveredProject: null\r\n        }))\r\n        .on('click', d => {\r\n          this.projectNavigator.goToProject(this.props.history, this.props.location, d.survey_answers.project_id);\r\n          this.setState({\r\n            hoveredProject: null\r\n          });\r\n        })\r\n        .attr('r', 0)\r\n      .transition()\r\n        .call(masterTransition)\r\n        .attr('r', d => d.r);\r\n  }\r\n\r\n  updateCircleSize(circleSize) {\r\n    this.setState({ circleSize });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"matrix-wrapper\" ref={svgWrapper => { this.svgWrapperRef = svgWrapper; }}>\r\n        <svg className=\"matrix\" width=\"100%\" height=\"100%\" ref={svg => { this.svgRef = svg; }} />\r\n        <MatrixTooltip project={this.state.hoveredProject} margin={this.margin} offset={this.offset} />\r\n        <div className=\"matrix-circle-scale-wrapper\" ref={circleSizeWrapper => { this.circleSizeWrapperRef = circleSizeWrapper; }}>\r\n          <MatrixCircleMenu updateCircleSize={this.updateCircleSize} circleSize={this.state.circleSize} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMatrix.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  filteredData: PropTypes.object.isRequired,\r\n  updateScaleData: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withRouter(Matrix);\r\n","import React, { Component} from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'react-fast-compare';\nimport { withRouter } from 'react-router-dom';\nimport * as d3 from 'd3';\nimport * as topojson from 'topojson';\nimport europe from '../assets/data/europe.topo.json';\nimport sweden from '../assets/data/sweden.topo.json';\nimport cities from '../assets/data/cities-v2.json';\nimport mockData from '../assets/data/mock-data-v8.json';\nimport project_coordinates from '../assets/data/project-coordinates.json';\nimport './Map.css';\nimport ProjectNavigator from '../ProjectNavigator';\nimport debounce from 'lodash.debounce';\n\n// current bugs\nclass Map extends Component {\n\n  constructor(props){\n    super(props);\n    this.margin = { top: 130, right: 20, bottom: 20, left: 160 };\n    this.offset = { x: 0,  y: 0 };\n    this.projectNavigator = new ProjectNavigator('/map');\n\n  }\n\n\n  // Render före compMount\n  componentDidMount(){\n\n    this.height = +this.svgWrapperRef.clientHeight - this.margin.top - this.margin.bottom;\n    this.width = +this.svgWrapperRef.clientWidth - this.margin.left - this.margin.right;\n\n    this.scaleLegendDebounce = debounce(() => this.updateScaleLegend(), 200);\n    this.zoom = d3.zoom()\n        .scaleExtent([1, 100])\n        .on(\"zoom.foo\", this.zoomed2.bind(this))\n        .on(\"zoom.bar\", () => {this.g.attr(\"transform\",  d3.event.transform);})\n        .on(\"zoom.legend\", this.scaleLegendDebounce);\n        // .on(this.updateData, this.zoomed2.bind(this));\n        // console.log(this.zoom);\n    this.projection = d3.geoMercator()\n        .rotate([5,-1])\n        // .scale(500)\n        // .center([15,58])\n        .scale(900)\n        .center([20,63])\n        .translate([this.width / 2, this.height / 2]);\n\n    this.path = d3.geoPath()\n        .projection(this.projection);\n\n    this.multiple_projects_box = d3.select(this.svgWrapperRef).append(\"div\")\n        .classed(\"multiple_projects_box\",true)\n        .style(\"opacity\", 0);\n    this.svg = d3.select(this.svgRef)\n            .attr(\"width\", this.width)\n            .attr(\"height\", this.height)\n            .call(this.zoom);\n\n    this.svg.on('click', () => {\n      if (d3.event.target.tagName !== 'circle') {\n        this.projectNavigator.goToRoot(this.props.history, this.props.location);\n        this.multiple_projects_box.transition().style('opacity',0);\n        this.multiple_projects_box.text(\"\");\n        this.projects.selectAll('circle').classed('clicked_bubble',false);\n\n      }\n    });\n\n    this.updateScaleLegend();\n\n    this.g = this.svg.append(\"g\");                              // The map itself\n\n    this.cities_container = this.svg.append(\"g\")                // All the black dot cities\n                          .classed(\"circle_box\",true);\n\n    this.projects = this.svg.append(\"g\");                       // All the projects + cities\n\n    // Tooltip for cities popup.\n    this.tooltip = d3.select(this.svgWrapperRef).append(\"div\")\n        .attr(\"class\", \"tooltip_bubble\")\n        .style(\"opacity\", 0);\n\n    // Tooltip for projects popup\n    this.tooltip2 = d3.select(this.svgWrapperRef).append(\"div\")\n        .attr(\"class\", \"tooltip_bubble2\")\n        .style(\"opacity\", 0);\n\n    // Tooltip for multi-proj.\n    this.tooltip3 = d3.select(this.svgWrapperRef).append(\"div\")\n        .attr(\"class\", \"tooltip_bubble3\")\n        .attr(\"id\",\"tooltip_bubble3\")\n        .style(\"opacity\", 0);\n\n    this.tooltip3_showed = 0;\n    this.project_count_city = {};\n\n    this.cities_circles = this.cities_container.selectAll(\"circle\")\n       .data(cities).enter()\n       .append(\"circle\")\n       .attr(\"id\",function(d){return\"circle-\"+d.id})\n       .attr(\"cx\", d => {return this.projection([d.coordinates.x, d.coordinates.y])[0]; })\n       .attr(\"cy\", d => { return this.projection([d.coordinates.x, d.coordinates.y])[1]; })\n       .attr(\"r\", 1.2)\n       .attr(\"fill\",\"black\")\n       .on(\"mouseover\", d => {\n         this.tooltip.transition(\"tooltip-1\").style(\"opacity\", .9);\n         this.tooltip.html(\"<b>\"+d.name + \"</b>\")\n            .style(\"left\", (d3.event.offsetX) + \"px\")\n            .style(\"top\", (d3.event.offsetY - 18) + \"px\")\n            .style(\"max-width\",  200 + \"px\");\n       })\n       .on(\"mouseout\", d => { this.tooltip.transition().style(\"opacity\", 0); });\n\n        this.updateData(this.props.filteredData);\n        //Europe\n        this.g.selectAll(\".continent_Europe_subunits\")\n          .data(topojson.feature(europe, europe.objects.europe).features)\n            .enter().append(\"path\")\n            .attr(\"d\", this.path)\n            .attr(\"fill\",'#e4e4e4');\n        // Sweden\n        this.g.selectAll('.continent_Sweden_subnits')\n          .data(topojson.feature(sweden, sweden.objects.subunits).features)\n          .enter().append(\"path\")\n          .attr(\"class\", function(d) {return \"country-\" + d.id;})\n          .attr(\"d\", this.path)\n        .attr(\"fill\", '#bdbdbd'); //https://www.color-hex.com/color/d3d3d3#shades-tints\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(prevProps);\n    // console.log(prevState);\n    // console.log(this.props.filteredData);\n    // this.updateHovered(this.state.hoveredProject, prevState.hoveredProject);\n    this.updateClicked(this.props, prevProps);\n\n    if (!isEqual(this.props.filteredData, prevProps.filteredData)) {\n      this.updateData(this.props.filteredData);\n      // this.setState({\n        // hoveredProject: null\n      // });\n      this.projectNavigator.goToRoot(this.props.history, this.props.location);\n    }\n  }\n\n\n// Here update the clicked circles dilemma.\n  updateClicked(props, prevProps){\n    let projectId = ProjectNavigator.GetProjectId(props.location);\n    let prevProjectId = ProjectNavigator.GetProjectId(prevProps.location);\n    // console.log(props.location);\n    // console.log(prevProps.location);\n    // if we just started, (i.e. navigated to the site via a permalink with a project id)\n    // the projectId and prevProjectId will be identical because of how prevProps.location works\n    // so change it to -1.\n    // console.log(projectId);\n    if (!this.projectNavigator.hasChangedSinceInit()) {\n      prevProjectId = -1;\n      this.projectNavigator.change();\n      // this.projects.selectAll('circle').classed('clicked_bubble',false);\n      // d3.select('#project-'+stra).classed('clicked_bubble',true);\n\n    }\n\n    if (projectId === prevProjectId) return;\n\n    this.projects.selectAll('circle').classed('clicked_bubble',false);\n    this.projects.selectAll('circle')\n      .filter(function (d) {\n      for(var j =0; j < d.data.length; j++){\n        if(d.data[j].survey_answers.project_id == projectId){\n          return true;\n        }\n      }\n      return false;})\n      .classed('clicked_bubble',function(d){ return true;});\n\n    // necessary only if clicking a project changes svgWrapper size (i.e. infobox takes up more or less space than before)\n    // if ((projectId === -1 && prevProjectId !== -1) || (projectId !== -1 && prevProjectId === -1))\n      // this.draw();\n\n    // if no project in path, we done\n    if (projectId === -1) return;\n\n    // if the project from the url doesn't exist in filteredData, redirect to root\n    if (!this.projectNavigator.projectExists(props.location, props.filteredData)) {\n      this.projectNavigator.redirectToRoot(props.history);\n      return;\n    }\n  }\n\n  updateData(dat){\n\n    var mockData_real = [];\n    let tetra = dat.data.length;\n    for(var i = 0; i < tetra; i++){\n      var da = dat.data[i].survey_answers;\n      var leng = da.locations.length;\n      for(var j = 0; j < leng; j++){\n        var obj = {};\n        //https://stackoverflow.com/questions/728360/how-do-i-correctly-clone-a-javascript-object\n        obj.survey_answers = JSON.parse(JSON.stringify(da));\n        obj.survey_answers.location = da.locations[j];\n        mockData_real.push(obj);\n      }\n    }\n    var loc_circles = [];\n    let tetr = mockData_real.length;\n    for(var i = 0; i < tetr; i ++){\n      var ob = {};\n      ob.name =  mockData_real[i].survey_answers.location;\n      ob.data = mockData_real[i];\n      loc_circles.push(ob);\n    }\n\n    // My variable names are awful here.\n    this.xx_loc = [];\n    for(var i = 0; i < tetr; i++){\n      var ab = loc_circles[i].name;\n      var xx = false;\n      for(var j = 0; j < this.xx_loc.length; j++){\n        var k = this.xx_loc[j].name;\n        if(ab.match(k)){\n          var tt = this.xx_loc[j].data;\n          tt.push(loc_circles[i].data);\n          this.xx_loc[j].data = tt;\n          xx = true;\n        }\n      }\n      if(xx == false){\n        var obj = {};\n        obj.name = ab;\n        var xxx = loc_circles[i].data;\n        obj.data = [];\n        obj.data.push(xxx);\n        this.xx_loc.push(obj);\n      }\n    }\n\n    this.project_circles = this.projects\n      .selectAll('circle')\n      .data(this.xx_loc, d => { return d.name;});\n    this.project_circles.exit()\n      .transition()\n      .attr('r',0)\n      .remove();\n\n      this.project_circles.transition()\n             .attr(\"r\", d => {\n               let a = d.data.length;\n               let i = d3.interpolateNumber(3+a, 30*a);\n               let x = ((d3.zoomTransform(this.svg.node()).y)*-1) -1000;\n               if(x > 0){\n                 let t = x/21776;\n                 return i(t);\n               }\n               return 3 + a;\n             });\n\n      this.project_circles.enter().append('circle')\n         .attr(\"id\",function(d,i){let stra = d.name.split(\" \")[0]; return\"project-\"+stra;})\n         .attr(\"cx\", d => { let c = project_coordinates[d.name]; return this.projection([c.x,c.y])[0];})\n         .attr(\"cy\", d => { let c = project_coordinates[d.name]; return this.projection([c.x,c.y])[1];})\n         .attr('transform', d => {\n           // I hate projections.\n           let c = project_coordinates[d.name];\n           let cx = this.projection([c.x,c.y]);\n           var trans = d3.zoomTransform(this.svg.node());\n           var t = trans.apply(cx);\n           let x = [t[0] - cx[0], t[1]-cx[1]];\n           return \"translate(\" + x + \")\";\n         })\n         .classed(\"bubble\",\"true\")\n         .style(\"stroke-width\", .7)\n         .style(\"stroke\",\"#007082\")\n         // .attr(\"fill\",\"#007d91\")\n         .attr('fill','hsl(173, 100%, 37%)')  // Temporary\n         .on('mouseover', d => {\n           let tx = \"\"\n           if(d.data.length > 1){\n             tx = \"<b>\"+ d.name +\"</b><br>\" + d.data.length+ \" Projects\"\n           } else {\n             tx = \"<b>\" + d.name +\"</b>\\n<br>\" + d.data[0].survey_answers.project_title;\n           }\n             this.tooltip2.transition().style(\"opacity\", .9);\n             this.tooltip2.html(tx)\n                .style(\"left\", (d3.event.offsetX) + \"px\")\n                .style(\"top\", (d3.event.offsetY - 18) + \"px\")\n                .style(\"max-width\",  200 + \"px\");\n              })\n         .on('mouseout', d => { this.tooltip2.transition(\"check\").style(\"opacity\", 0);})\n         .on('click',d => {\n           // Here update the clicked one project = multiple cities problem.\n           let stra = d.name.split(\" \")[0];\n           if(d.data.length == 1) {\n             let id_real = d.data[0].survey_answers.project_id;\n             this.projectNavigator.goToProject(this.props.history, this.props.location, d.data[0].survey_answers.project_id);\n             this.projects.selectAll('circle').classed('clicked_bubble',false);\n             this.projects.selectAll('circle')\n               .filter(function (d) {\n               for(var j =0; j < d.data.length; j++){\n                 if(d.data[j].survey_answers.project_id == id_real){\n                   return true;\n                 }\n               }\n               return false;})\n               .classed('clicked_bubble',function(d){ return true;});\n           } else {\n             this.multiple_projects_box.text('');\n             this.multiple_projects_box.transition().style(\"opacity\", .9);\n             var header = d3.select('.multiple_projects_box').append('h4')\n                  .style('margin-top','2px')\n                  .text(d.name + \" has \"+ d.data.length +\" projects\");\n\n            var projects_listed = d3.select('.multiple_projects_box').append('ul').classed('mp_inner_list',true);\n            projects_listed.exit().remove();\n            projects_listed.selectAll('li').data(d.data, d => {return d.survey_answers.project_id;})\n              .enter().append('li')\n              .style('cursor','pointer')\n              .on('click', d=>{\n                var id_real = d.survey_answers.project_id;\n                this.projectNavigator.goToProject(this.props.history, this.props.location, d.survey_answers.project_id);\n                this.multiple_projects_box.transition().style('opacity',0);\n                this.multiple_projects_box.text(\"\");\n                this.projects.selectAll('circle').classed('clicked_bubble',false);\n\n                this.projects.selectAll('circle')\n                  .filter(function (d) {\n                  for(var j =0; j < d.data.length; j++){\n                    if(d.data[j].survey_answers.project_id == id_real){\n                      return true;\n                    }\n                  }\n                  return false;})\n                  .classed('clicked_bubble',function(d){ return true;});\n              })\n              .text(function(d){return d.survey_answers.project_title;});\n           }\n         })\n        .transition()\n         .attr(\"r\", d => {\n           let a = d.data.length;\n           let i = d3.interpolateNumber(3+a, 30*a);\n           let x = ((d3.zoomTransform(this.svg.node()).y)*-1) -1000;\n           if(x > 0){\n             let t = x/21776;\n             return i(t);\n           }\n           return 3 + a;\n         });\n  }\n\n\n  zoomed2(){\n    let afa = this.projects\n      .selectAll('circle')\n      .data(this.xx_loc, d => { return d.name;});\n\n      this.cities_circles.attr(\"transform\",this.circle_transform(d3.event.transform));\n      afa.attr(\"transform\",this.circle_transform(d3.event.transform));\n\n      this.cities_circles.attr(\"r\",this.circle_size_increase.bind(this));\n      afa.attr(\"r\",this.project_size_increase.bind(this));\n\n  }\n\n  circle_size_increase(d){\n    let i = d3.interpolateNumber(1.2, 20);\n    let k = d3.event.transform.k -1;\n    let t = k/100;\n    return i(t);\n  }\n\n  // Projects increase after zoom in factor X.\n  project_size_increase(d){\n    let a = d.data.length;\n    let i = d3.interpolateNumber(3+a, 30*a);\n    let k = d3.event.transform.k -1;\n    let t = k/100;\n    return i(t);\n  }\n\n  // Semantic transformation\n  circle_transform(t) {\n    return function(d) {\n      let c = [this.getAttribute('cx'), this.getAttribute('cy')];\n      let r = t.apply(c);\n      let x = [r[0] - c[0], r[1]-c[1]];\n      return \"translate(\" + x + \")\";\n    };\n  }\n\n  updateScaleLegend() {\n    // Just copied this from the lines following \"this.project_circles.transition()...\"\n    // (lines 193-200) at the time of writing this.\n    const radius = (a) => {\n      let i = d3.interpolateNumber(3+a, 30*a);\n      let k = (d3.zoomTransform(this.svg.node()).k) -1;\n      let t = k/100;\n      return i(t);\n    }\n\n    this.props.updateScaleData([\n      { r: radius(7), label: '7 projekt' },\n      { r: radius(4), label: '4 projekt' },\n      { r: radius(1), label: '1 projekt' }\n    ]);\n  }\n\n  // Efter constructor\n  render() {\n    return (\n      <div className=\"mapWrap\" ref={svgWrapper => this.svgWrapperRef = svgWrapper}>\n        <svg className=\"bubbles_svg_area\" id=\"bubbles_svg_area\" ref={svg => { this.svgRef = svg;}}></svg>\n      </div>\n    );\n  }\n}\n\nMap.propTypes = {\n  data: PropTypes.object.isRequired,\n  filteredData: PropTypes.object.isRequired\n};\n\nexport default withRouter(Map);\n","import React, {Component} from 'react';\nimport * as d3 from 'd3';\nimport './Bubbles.css';\nimport mockData from '../assets/data/mock-data-v8.json';\nimport partners from '../assets/data/partners.json';\nimport debounce from 'lodash.debounce';\n\n\nclass Partners extends Component {\n\n  constructor(props){\n    super(props);\n    this.omrade_titles = {\n      0: \"Civilsamhälle\",\n      1: \"Forskning\",\n      2: \"Näringsliv\",\n      3: \"Offentlig verksamhet\"\n    };\n\n\n    this.helix_colors = {\n      0 : \"#007d91\",\n      1 : \"#EA9A00\",\n      2 : \"#00A389\",\n      3 : \"#97C28E\"\n    };\n\n    this.helix_colors_borders = {\n      0 : \"#007082\",\n      1 : \"#d28a00\",\n      2 : \"#00927b\",\n      3 : \"#87ae7f\"\n    };\n\n    this.margin = { top: 130, right: 20, bottom: 20, left: 160 };\n    this.offset = { x: 0,  y: 0 };\n    // Hardcoded section titles\n    this.omrade_titles_x = {\n        3: 70,\n        0: 255,\n        1: 400,\n        2: 570\n    };\n    this.omrade_titles_y = {\n      3: 70,\n      0: 70,\n      1: 70,\n      2:50\n    };\n\n\n    // Location on screen\n    this.projectSpace = {\n      0 : 415,\n      1 : 730\n    };\n    this.projspace_title_x = {\n      0: 410,\n      1: 800\n    };\n    this.projspace_title_y = {\n      0: 10,\n      1: 80\n    };\n\n    this.project_no = -1;\n    this.bubbles = null;   // Bubbles in object.\n    this.nodes = {};            // Bubbles as nodes.\n    this.view_option = 0;\n\n    this.forceStrength = 0.025;\n\n    this.createNewNodes = this.createNewNodes.bind(this);\n\n  }\n\n  componentDidMount(){\n    // console.log(\"heck\");\n    this.height = +this.svgWrapperRef.clientHeight - this.margin.top - this.margin.bottom;\n    this.width = +this.svgWrapperRef.clientWidth - this.margin.left - this.margin.right;\n    // console.log(this.svgWrapperRef.clientHeight);\n    this.tooltip = d3.select(this.svgWrapperRef).append(\"div\")\n        .attr(\"class\", \"tooltip_bubble_partners\")\n        .style(\"opacity\", 0);\n\n    // $(\"#dropdown_menu\").html(str);\n\n    this.button_collection = d3.select(this.svgWrapperRef).append(\"div\")\n        .classed(\"button_collection\",true);\n\n    this.normal_button = this.button_collection.append(\"div\")\n            .classed(\"button\",true)\n            .classed(\"overview_button\",true)\n            .classed('button_selected',true)\n            .on('click', () => {d3.selectAll('.button').classed('button_selected',false);this.normal_button.classed('button_selected',true);this.move_bubbles(0);})\n            .text(\"Översikt\");\n    this.helix_button = this.button_collection.append(\"div\")\n        .classed(\"button\",true)\n        .classed(\"helix_button\",true)\n        .on('click', () => {d3.selectAll('.button').classed('button_selected',false);this.helix_button.classed('button_selected',true);this.move_bubbles(1);})\n        .text(\"Quadruple Helix\");\n\n    this.expand_button = this.button_collection.append(\"div\")\n        .classed(\"button\",true)\n        .classed(\"expand_button\",true)\n        .on('click', () => {d3.selectAll('.button_collections').style('display','initial');})\n        .text(\"Projekt ↓ \")\n\n    this.nodes = this.createNewNodes(partners);\n\n    this.projspace_title = {};\n    this.projspace_title[0] = \"Partners\";\n    for(var i = 0; i < mockData.data.length; i++){\n      this.projspace_title[mockData.data[i].survey_answers.project_id] = mockData.data[i].survey_answers.project_title;\n    }\n\n    // !!!!!!!!!!\n    // This is good code. Just needs to be placed elsewhere.\n    this.button_collections = d3.select(this.svgWrapperRef).append(\"div\")\n        .classed(\"button_collections\",true)\n        // .style('width','100%')\n        .style('background-color','lightgrey');\n    this.button_collections.append('h2').text(\"Projekt\").style('margin-top','2px');\n    this.project_buttons = this.button_collections.append(\"div\").selectAll('div')\n      .data(mockData.data);\n    this.project_buttons.enter().append('div')\n      // .text('hey')\n      .classed(\"buttons\",true)\n      .classed('project_button',true)\n      // .text( d => {console.log(d); return \"gaga\"});\n      .on('click', d => {this.change_view_spec(2, d.survey_answers.project_id);\n        d3.selectAll('.button_collections').style('display','none');\n        d3.selectAll('.button').classed('button_selected',false);\n        this.expand_button.classed('button_selected',true);})\n      .on('mouseover',function(d){\n        d3.select(this).style('background-color','white');\n      })\n      .on('mouseout',function(d){\n        d3.select(this).style('background-color','lightgrey');\n      })\n      .html( d => {return d.survey_answers.project_title + \"<br>\";});\n    // !!!!!!!!!!\n\n    this.omradeCenters = {\n      0: { x: 255, y: 0 },\n      1: { x: 400, y: 0 },\n      2: { x: 570, y: 0 },\n      3: { x: 70, y:0}\n    };\n\n\n    this.center = { x: this.width / 2, y: this.height / 2 };\n\n    // this.projspace_title = {};\n    this.scaleLegendDebounce = debounce(() => this.updateScaleLegend(), 200);\n    this.zoom = d3.zoom()\n        .scaleExtent([.2, 20])\n        .on(\"zoom.transform\", () => {this.g.attr(\"transform\", d3.event.transform);})\n        .on(\"zoom.legend\", this.scaleLegendDebounce);\n\n    this.svg = d3.select(this.svgRef)\n          .attr(\"width\",this.width)\n          .attr(\"height\",this.height)\n          .call(this.zoom);\n    this.updateScaleLegend();\n    this.svg.on('click', () => {\n      if (d3.event.target.class !== 'project_button') {\n        // this.projectNavigator.goToRoot(this.props.history, this.props.location);\n        d3.selectAll('.button_collections').style('display','none');\n      }\n    });\n    this.g = this.svg.append(\"g\");\n\n    this.simulation = d3.forceSimulation()\n      .velocityDecay(0.2)\n      .force('x', d3.forceX().strength(this.forceStrength).x(this.center.x))\n      .force('y', d3.forceY().strength(this.forceStrength).y(this.center.y))\n      .force('charge', d3.forceManyBody().strength(this.charge.bind(this)))\n      .on('tick', this.ticked.bind(this));\n\n    this.simulation.stop();\n    this.maxAmount = d3.max(mockData, d => { return +d.total_amount; });\n\n    this.radiusScale = d3.scalePow()\n      .exponent(0.5)\n      .range([2, 85])\n      .domain([0, this.maxAmount]);\n\n    // console.log(mockData);\n    this.bubbles = this.g.selectAll('.bubble')\n      .data(this.nodes, d => { return d.id; });\n\n    this.bubblesE = this.bubbles.enter().append('circle')\n      .classed('bubble', true)\n      .attr('r', 0)\n      .style(\"fill\",d => { return this.helix_colors[d.kategori];})\n      .attr('stroke-width', .5)\n      .attr('stroke',d => {return this.helix_colors_borders[d.kategori]})\n      .on(\"mouseover\",d => {\n        let id = d.id;\n        // this.parentNode.appendChild(this);\n        d3.selectAll(\".bubble\")\n          .filter(function(d){if(d.id===id){return false;}return true;})\n          .transition()\n            .style(\"opacity\",\"0.3\");\n\n        this.tooltip.transition().style(\"opacity\", .9);\n        this.tooltip.html(d.organisation) //+ \" \" + omrade_titles[d.kategori])\n          .style(\"left\", (d3.event.offsetX) + \"px\")\n          .style(\"top\", (d3.event.offsetY - 28) + \"px\")\n          .style(\"max-width\",  200 + \"px\");\n      })\n      .on(\"mouseout\",d => {\n          this.tooltip.transition().style(\"opacity\", 0);\n          d3.selectAll(\".bubble\")\n            .transition()\n              .style(\"opacity\",\"1\");\n      });\n\n\n    this.bubbles = this.bubbles.merge(this.bubblesE);\n\n    this.bubbles.transition(\"start\")\n      .duration(2000)\n      .attr('r', d => { return d.radius; });\n\n    // Start simulation\n    this.simulation.nodes(this.nodes);\n    this.move_bubbles(0);\n\n\n    let omradeData = d3.keys(this.omrade_titles);\n    this.years = this.g.selectAll('.omradeTitles')\n    .data(omradeData);\n\n    this.years.enter().append('text')\n      .attr('class', 'omradeTitles')\n      .attr('display','none')\n      .attr('font-size','20px')\n      .attr('x', d => { return this.omrade_titles_x[d]; })\n      .attr('y', d => { return this.omrade_titles_y[d];})\n      .attr('text-anchor', 'middle')\n      .text(d => { return this.omrade_titles[d]; });\n\n    this.temp_str = {0 : \"Partners\", 1: \"temp\"};\n    let projData2 = d3.keys(this.temp_str);\n    this.projTitlesObj = this.g.selectAll('.projTitles')\n    .data(projData2);\n\n    this.projTitlesObj.enter().append('text')\n      .attr('class', 'projTitles')\n      .attr('display','none')\n      .attr('font-size','20px')\n      .attr('x', d => { return this.projspace_title_x[d]; })\n      .attr('y', d => { return this.projspace_title_y[d];})\n      .attr('text-anchor', 'middle')\n      .text(d => { return this.temp_str[d]; })\n      .filter(function (d){\n        if(d == 1){\n          return true;\n        }\n        return false;\n      })\n      .attr('font-size','12px')\n      .attr(\"id\",\"proj_text_change\");\n\n\n    // Move legedn elsewhere.\n    // create_legend();\n  }\n\n\n  move_bubbles(opt){\n    if(opt == 0){\n      this.simulation.force('x', d3.forceX().strength(this.forceStrength).x(this.center.x));\n    } else if (opt == 1){\n      this.simulation.force('x', d3.forceX().strength(this.forceStrength).x(this.omrade_view.bind(this)));\n    } else if (opt == 2){\n      this.simulation.force('x', d3.forceX().strength(this.forceStrength).x(this.project_view.bind(this)));\n    }\n    this.view_option = opt;\n    this.simulation.alpha(1).restart();\n    this.toggle_title(opt);\n  }\n\n  toggle_title(opt){\n    if(opt == 1){\n      d3.selectAll('.omradeTitles')\n        .attr('display','initial');\n    } else {\n      d3.selectAll('.omradeTitles')\n        .attr('display', 'none');\n    }\n    if(opt == 2){\n      d3.selectAll('.projTitles')\n        .attr('display','initial');\n    } else {\n        d3.selectAll('.projTitles')\n          .attr('display','none');\n    }\n  }\n  omrade_view(d){\n    return this.omradeCenters[d.kategori].x;\n  }\n\n  project_view(d){\n    let projs = d.projects;\n    for(var i = 0; i < projs.length; i++){\n      if(projs[i] == this.project_no){\n        return this.projectSpace[1];\n      }\n    }\n    return this.projectSpace[0];\n  }\n  charge(d) {\n    return -Math.pow(d.radius, 2.0) * this.forceStrength;\n  }\n\n  ticked() {\n    this.bubbles.attr('cx', d => { return d.x; })\n                .attr('cy', d => { return d.y; });\n    }\n\n  change_view_spec(opt, proj_opt){\n    this.view_option = opt;\n    this.project_no = proj_opt;\n    d3.select('#proj_text_change').text(this.projspace_title[proj_opt]);\n    this.move_bubbles(opt);\n  }\n\n  componentDidUpdate(){\n\n  }\n\n  createNewNodes(rawData){\n    let q_o = {\n       \"Civilsamhälle\" : 0,\n       \"Forskning\" : 1,\n       \"Näringsliv\": 2,\n       \"Offentlig verksamhet\": 3\n    };\n    let myNodes = rawData.map(function (d,i){\n      return {\n        id: (i),\n        radius : 15,\n        organisation: d.Organisation,\n        value: Math.random() * 10,\n        projects : d.Projects,\n        kategori: q_o[d.Kategori],\n        x: Math.random() * 900,\n        y: Math.random() * 800\n      };\n    });\n    myNodes.sort(function (a,b){ return b.value - a.value; });\n    return myNodes;\n  }\n\n  updateScaleLegend() {\n    const scaleFactor = d3.zoomTransform(this.svg.node()).k;\n    this.props.updateScaleData([{ r: 15 * scaleFactor, label: '1 partner' }]);\n  }\n\n\n  render(){\n    return (\n      <div className=\"partnerWrap\" ref={svgWrapper => this.svgWrapperRef = svgWrapper}>\n        <svg className=\"partner_svg_area\" id=\"partner_svg_area\" ref={svg => { this.svgRef = svg;}}></svg>\n      </div>\n    );\n  }\n}\n\nexport default Partners;\n","import React, { Component } from 'react';\r\nimport { range } from 'd3';\r\nimport isEqual from 'react-fast-compare';\r\nimport PropTypes from 'prop-types';\r\nimport './Matchmaking.css';\r\n\r\nconst ROWS = 5;\r\nconst COLS = 4;\r\n\r\n// input is '[ROW,COL]' where ROW and COL are numbers.\r\nconst parsePosition = (name) => {\r\n  const split = name.substring(1, name.length - 1).split(',');\r\n  return { row: Number.parseInt(split[0]), col: Number.parseInt(split[1]) };\r\n};\r\n\r\nclass Matchmaking extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      expanded: false\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    const position = parsePosition(event.target.name);\r\n    const valueCopy = [...this.props.value];\r\n\r\n    const index = this.props.value.findIndex(item => isEqual(position, item));\r\n    if (index !== -1) valueCopy.splice(index, 1);\r\n    if (event.target.checked) valueCopy.push(position);\r\n\r\n    if (this.props.onChange) this.props.onChange(valueCopy);\r\n  }\r\n\r\n  isChecked(row, col) {\r\n    return this.props.value.findIndex(item => isEqual(item, { row, col })) !== -1;\r\n  }\r\n\r\n  render() {\r\n    const columns = (row) => {\r\n      return range(1, COLS + 1).map(col => (\r\n        <td key={(row - 1) * COLS + col}>\r\n          <input\r\n            type=\"checkbox\"\r\n            name={`[${row},${col}]`}\r\n            checked={this.isChecked(row, col)}\r\n            onChange={this.handleChange}\r\n            disabled={this.props.enabled && !this.props.enabled[row][col]} />\r\n        </td>\r\n      ));\r\n    };\r\n\r\n    const rows = range(1, ROWS + 1).map(row => (\r\n      <tr key={row}>\r\n        {columns(row)}\r\n      </tr>\r\n    ));\r\n\r\n    return (\r\n      <div className=\"filters-box filters-box--matchmaking\">\r\n        <span className=\"filters-box__title\">\r\n          Teman och fokusområden\r\n        </span>\r\n        <div className=\"matchmaking-table-container\">\r\n          <table className=\"matchmaking-table\">\r\n            <tbody>\r\n              {rows}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMatchmaking.defaultProps = {\r\n  value: []\r\n};\r\n\r\nMatchmaking.propTypes = {\r\n  onChange: PropTypes.func,\r\n  value: PropTypes.arrayOf(PropTypes.shape({\r\n    row: PropTypes.number,\r\n    col: PropTypes.number\r\n  })).isRequired,\r\n  enabled: PropTypes.objectOf(PropTypes.objectOf(PropTypes.bool))\r\n};\r\n\r\nexport default Matchmaking;\r\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { range } from 'd3';\nimport { Multiselect } from 'react-widgets'\nimport { col2focus, row2theme, theme2row } from '../matrix/MatrixUtility';\nimport Matchmaking from './Matchmaking';\nimport isEqual from 'react-fast-compare';\nimport _intersection from 'lodash.intersection';\nimport './Filters.css';\n\n// find the intersection of an arbitrary number of subsets of data\nfunction intersection(...data) {\n  return { data: _intersection(...data.map(d => d.data)) };\n}\n\n// presentation of the multiselect options\nconst ListItem = ({ item }) => (\n  <div className=\"filters-item\">\n    <span className=\"filters-item__name\">{item.name}</span>\n    <span className=\"filters-item__count\">{item.count}</span>\n  </div>\n);\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filteredBy: {\n        titles: props.data,\n        locations: props.data,\n        partners: props.data,\n        keywords: props.data,\n        matchmaking: props.data,\n      },\n      filterValues: {\n        titles: [],\n        locations: [],\n        partners: [],\n        keywords: [],\n        matchmaking: []\n      },\n      filteredData: props.data\n    };\n\n    // used for optimizations\n    this.prevFilteredData = null;\n\n    // data used by filter components when rendering, e.g.\n    // location names, partners, enabled matrix cells etc\n    this.componentData = {\n      titles: null,\n      locations: null,\n      partners: null,\n      keywords: null,\n      matchmaking: null\n    };\n\n    this.projectLocations = {};\n    this.projectPartners = {};\n    this.projectKeywords = {};\n\n    props.data.data.forEach(d => {\n      this.projectLocations[d.survey_answers.project_id] = new Set();\n      d.survey_answers.locations.forEach(location => {\n        this.projectLocations[d.survey_answers.project_id].add(location);\n      });\n\n      this.projectPartners[d.survey_answers.project_id] = new Set();\n      d.survey_answers.other_financiers.forEach(financier => {\n        this.projectPartners[d.survey_answers.project_id].add(financier);\n      });\n      d.survey_answers.other_recipients.forEach(recipient => {\n        this.projectPartners[d.survey_answers.project_id].add(recipient);\n      });\n\n      this.projectKeywords[d.survey_answers.project_id] = new Set();\n      d.survey_answers.keywords.forEach(keyword => {\n        this.projectKeywords[d.survey_answers.project_id].add(keyword);\n      });\n    });\n\n    this.filterBy = {\n      titles: (titles) => {\n        if (!titles.length) return this.props.data;\n\n        return {\n          data: this.props.data.data.filter((d) => {\n            if (!titles.includes(d.survey_answers.project_title)) return false;\n            return true;\n          })\n        };\n      },\n      locations: (locations) => {\n        if (!locations.length) return this.props.data;\n\n        return {\n          data: this.props.data.data.filter((d) => {\n            if (!locations.some(location => {\n              return this.projectLocations[d.survey_answers.project_id].has(location.name);\n            })) return false;\n            return true;\n          })\n        };\n      },\n      partners: (partners) => {\n        if (!partners.length) return this.props.data;\n\n        return {\n          data: this.props.data.data.filter((d) => {\n            if (!partners.some(partner => {\n              return this.projectPartners[d.survey_answers.project_id].has(partner.name);\n            })) return false;\n            return true;\n          })\n        }\n      },\n      keywords: (keywords) => {\n        if (!keywords.length) return this.props.data;\n\n        return {\n          data: this.props.data.data.filter((d) => {\n            if (!keywords.some(keyword => {\n              return this.projectKeywords[d.survey_answers.project_id].has(keyword.name);\n            })) return false;\n            return true;\n          })\n        }\n      },\n      matchmaking: (matchmaking) => {\n        if (!matchmaking.length) return this.props.data;\n\n        return {\n          data: this.props.data.data.filter((d) => {\n            if (!matchmaking.every(position => {\n              return d.survey_answers[col2focus[position.col]].includes(row2theme[position.row])\n            })) return false;\n            return true;\n          })\n        }\n      }\n    };\n  }\n\n  empty() {\n    return Object.values(this.state.filterValues).every(value => value.length === 0);\n  }\n\n  filteredByAllExcept(filter) {\n    return intersection(...Object.entries(this.state.filteredBy)\n      .filter(([key, value]) => key !== filter)\n      .map(([key, value]) => value))\n  }\n\n  buildTitlesList() {\n    const data = this.filteredByAllExcept('titles');\n    return data.data.map(d => d.survey_answers.project_title)\n  }\n\n  buildLocationList() {\n    const data = this.filteredByAllExcept('locations');\n\n    const ret = new Map();\n    data.data.forEach(d => {\n      d.survey_answers.locations.forEach(location => {\n        ret.has(location) ? ret.set(location, ret.get(location) + 1) : ret.set(location, 1);\n      });\n    });\n\n    return [...ret]\n      .sort()\n      .reduce((arr, [key, value]) => [...arr, {name: key, count: value}], [])\n  }\n\n  buildPartnerList() {\n    const data = this.filteredByAllExcept('partners');\n\n    const ret = new Map();\n    data.data.forEach(d => {\n      this.projectPartners[d.survey_answers.project_id].forEach(partner => {\n        ret.has(partner) ? ret.set(partner, ret.get(partner) + 1) : ret.set(partner, 1);\n      });\n    });\n\n    return [...ret]\n      .sort()\n      .reduce((arr, [key, value]) => [...arr, {name: key, count: value}], [])\n  }\n\n  buildKeywordList() {\n    const data = this.filteredByAllExcept('keywords');\n\n    const ret = new Map();\n    data.data.forEach(d => {\n      d.survey_answers.keywords.forEach(keyword => {\n        ret.has(keyword) ? ret.set(keyword, ret.get(keyword) + 1) : ret.set(keyword, 1);\n      });\n    });\n\n    return [...ret]\n      .sort()\n      .reduce((arr, [key, value]) => [...arr, {name: key, count: value}], [])\n  }\n\n  buildMatchmakingList() {\n    const data = this.state.filteredData;\n\n    const ROWS = 5;\n    const COLS = 4;\n\n    const colRange = range(1, COLS + 1);\n\n    const nonEmpty = {};\n    for (let row = 1; row <= ROWS; ++row) {\n      nonEmpty[row] = {};\n      for (let col = 1; col <= COLS; ++col) {\n        nonEmpty[row][col] = false;\n      }\n    }\n\n    data.data.forEach(d => {\n      colRange.forEach(col => {\n        d.survey_answers[col2focus[col]].forEach(theme => {\n          const row = theme2row[theme];\n          if (!nonEmpty[row][col]) nonEmpty[row][col] = true;\n        })\n      });\n    });\n\n    return nonEmpty;\n  }\n\n  // only render if state changed, ignore props since they shouldn't change anyway\n  shouldComponentUpdate(nextProps, nextState) {\n    if (!isEqual(nextState, this.state)) return true;\n    return false;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState === this.state) return;\n\n    if (!isEqual(prevState.filterValues, this.state.filterValues)) {\n      const filteredBy = {};\n      Object.keys(this.filterBy).forEach(filter => {\n        if (!isEqual(prevState.filterValues[filter], this.state.filterValues[filter])) {\n          filteredBy[filter] = this.filterBy[filter](this.state.filterValues[filter]);\n        }\n      });\n      if (Object.keys(filteredBy).length) {\n        this.setState((state, props) => ({\n          filteredBy: {\n            ...state.filteredBy,\n            ...filteredBy\n          }\n        }))\n      }\n    }\n\n    if (!isEqual(prevState.filteredBy, this.state.filteredBy)) {\n      const newFilteredData = intersection(...Object.values(this.state.filteredBy));\n      this.setState({\n        filteredData: newFilteredData\n      });\n      this.props.updateFilteredData(newFilteredData);\n    }\n  }\n\n  render() {\n    // load these here, otherwise lazy evaluation can cause some choppiness in the browser\n    if (this.state.filteredData !== this.prevFilteredData) {\n      this.prevFilteredData = this.state.filteredData;\n      this.componentData = {\n        titles: this.buildTitlesList(),\n        locations: this.buildLocationList(),\n        partners: this.buildPartnerList(),\n        keywords: this.buildKeywordList(),\n        matchmaking: this.buildMatchmakingList()\n      }\n    }\n\n    return (\n      <div className=\"filters\">\n        <h2>Filter</h2>\n        <div className=\"filters-box\">\n          <span className=\"filters-box__title\">\n            Titel\n          </span>\n          <Multiselect\n            data={this.componentData.titles}\n            onChange={titles => {\n              this.setState({\n                filterValues: {\n                  ...this.state.filterValues,\n                  titles\n                }\n              });\n            }}\n            placeholder=\"Filtera efter titlar\"\n            filter=\"contains\"\n            value={this.state.filterValues.titles} />\n        </div>\n        <div className=\"filters-box\">\n          <span className=\"filters-box__title\">\n            Plats\n          </span>\n          <Multiselect\n            data={this.componentData.locations}\n            onChange={locations => {\n              this.setState({\n                filterValues: {\n                  ...this.state.filterValues,\n                  locations\n                }\n              });\n            }}\n            placeholder=\"Filtrera efter plats\"\n            valueField=\"name\"\n            textField=\"name\"\n            itemComponent={ListItem}\n            value={this.state.filterValues.locations} />\n        </div>\n        <div className=\"filters-box\">\n          <span className=\"filters-box__title\">\n            Partner\n          </span>\n          <Multiselect\n            data={this.componentData.partners}\n            onChange={partners => {\n              this.setState({\n                filterValues: {\n                  ...this.state.filterValues,\n                  partners\n                }\n              });\n            }}\n            placeholder=\"Filtrera efter partners\"\n            filter=\"contains\"\n            valueField=\"name\"\n            textField=\"name\"\n            itemComponent={ListItem}\n            value={this.state.filterValues.partners} />\n        </div>\n        <div className=\"filters-box\">\n          <span className=\"filters-box__title\">\n            Nyckelord\n          </span>\n          <Multiselect\n            data={this.componentData.keywords}\n            onChange={keywords => {\n              this.setState({\n                filterValues: {\n                  ...this.state.filterValues,\n                  keywords\n                }\n              });\n            }}\n            placeholder=\"Filtera efter nyckelord\"\n            filter=\"contains\"\n            valueField=\"name\"\n            textField=\"name\"\n            itemComponent={ListItem}\n            value={this.state.filterValues.keywords} />\n        </div>\n\n        <Matchmaking\n          value={this.state.filterValues.matchmaking}\n          onChange={matchmaking => {\n            this.setState({\n              filterValues: {\n                ...this.state.filterValues,\n                matchmaking\n              }\n            });\n          }}\n          enabled={this.componentData.matchmaking} />\n\n        {!this.empty() &&\n          <Fragment>\n            <p className='filters-results-text'>\n              Visar <span className=\"filters-results-text__number\">{this.state.filteredData.data.length}</span>\n              {' '} av <span className=\"filters-results-text__number\">{this.props.data.data.length}</span> projekt.\n            </p>\n\n            <div className='filters-button-box'>\n              <button\n                className=\"filters-button\"\n                onClick={() => this.setState({\n                  filterValues: Object.entries(this.state.filterValues)\n                    .reduce((obj, [k,_]) => ({...obj, [k]: []}), {})\n                })}>\n                Rensa filter\n              </button>\n            </div>\n          </Fragment>\n        }\n      </div>\n    );\n  }\n}\n\nFilters.propTypes = {\n  data: PropTypes.object.isRequired,\n  updateFilteredData: PropTypes.func.isRequired,\n  scaleData: PropTypes.shape({\n    rScale: PropTypes.number,\n    minBudget: PropTypes.number,\n    maxBudget: PropTypes.number\n  })\n};\n\nexport default Filters;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ColorLegendItem.css';\r\n\r\nfunction ColorLegendItem({ text, color }) {\r\n  return (\r\n    <div className=\"color-legend-item\">\r\n      <div className=\"color-legend-item__box\" style={{background: color}} />\r\n      <span className=\"color-legend-item__text\">{text}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nColorLegendItem.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  color: PropTypes.any.isRequired\r\n}\r\n\r\nexport default ColorLegendItem;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { range } from 'd3';\r\nimport { withRouter } from 'react-router';\r\nimport { Transition, animated } from 'react-spring';\r\nimport ColorLegendItem from './ColorLegendItem';\r\nimport { projectTypes, projectTypeColors } from './matrix/MatrixUtility';\r\nimport './ColorLegend.css';\r\n\r\n// NOTE: Hardcoded for now, but for prettier code these could be imported directly from Partners.jsx\r\nconst omrade_titles = {\r\n  0: \"Civilsamhälle\",\r\n  1: \"Forskning\",\r\n  2: \"Näringsliv\",\r\n  3: \"Offentlig verksamhet\"\r\n};\r\n\r\nconst helix_colors = {\r\n  0: \"#007d91\",\r\n  1: \"#EA9A00\",\r\n  2: \"#00A389\",\r\n  3: \"#97C28E\"\r\n};\r\n\r\nfunction RouteColorLegend({ labels }) {\r\n  let items = labels.map(label => \r\n    <li key={label.text}>\r\n      <ColorLegendItem {...label} />\r\n    </li>\r\n  );\r\n\r\n  return (\r\n    <div className=\"color-legend\">\r\n      <ul>\r\n        {items}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nRouteColorLegend.propTypes = {\r\n  labels: PropTypes.arrayOf(PropTypes.shape({\r\n    text: PropTypes.string.isRequired,\r\n    color: PropTypes.any.isRequired\r\n  })).isRequired\r\n};\r\n\r\nclass ColorLegend extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const mapLabels = [{ text: 'Projekt', color: '#007d91'}]; // hard-coded\r\n    const matrixLabels = projectTypes.map(type => ({ text: type, color: projectTypeColors(type) }));\r\n    const partnersLabels = range(4).map(i => ({ text: omrade_titles[i], color: helix_colors[i] }));\r\n\r\n    this.legends = {\r\n      map: (<RouteColorLegend labels={mapLabels} />),\r\n      matrix: (<RouteColorLegend labels={matrixLabels} />),\r\n      partners: (<RouteColorLegend labels={partnersLabels} />)\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.location.pathname !== nextProps.location.pathname) return true;\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const route = Object.keys(this.legends).find(route => this.props.location.pathname.includes(route));\r\n\r\n    return (\r\n      <Transition\r\n        native\r\n        items={route}\r\n        from={{ height: 0, opacity: 0}}\r\n        enter={{ height: 'auto', opacity: 1 }}\r\n        leave={{ height: 0, opacity: 0}}>\r\n        {route =>\r\n          route !== undefined &&\r\n            (props => \r\n              <animated.div style={{ ...props}}>\r\n                {this.legends[route]}\r\n              </animated.div>)\r\n        }\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ColorLegend);\r\n","import React, { Component } from 'react';\r\nimport { select, easePolyOut } from 'd3';\r\nimport PropTypes from 'prop-types';\r\nimport './ScaleLegend.css';\r\n\r\nconst masterTransition = (transition) => transition.duration(800).ease(easePolyOut.exponent(4));\r\n\r\nclass ScaleLegend extends Component {\r\n  componentDidMount() {\r\n    this.parent = select(this.parentRef).style('width', '150px');\r\n    this.svg = select(this.svgRef).attr('height', 0);\r\n\r\n    this.margin = { top: 10, right: 10, bottom: 10, left: 20};\r\n    this.lineWidth = 10;\r\n    this.labelWidth = 60; // hard-coded approximation of label width for centering\r\n\r\n    this.updateData(this.props.scaleData);\r\n  }\r\n\r\n  updateData(data) {\r\n    if (!data || !data.length) return;\r\n\r\n    const fixedData = data.slice().map((d, i) => ({ ...d, i })).reverse();\r\n    const selection = this.svg.selectAll('g').data(fixedData);\r\n\r\n    const labels = data.map((circle, index) => {\r\n      let left = data[0].r + this.margin.left;\r\n      let top = data[0].r * 2 - circle.r * 2 + this.margin.top;\r\n      let width = data[0].r + this.lineWidth;\r\n      if (index === data.length - 1) {\r\n        left += circle.r;\r\n        top += circle.r;\r\n        width -= circle.r;\r\n      }\r\n\r\n      return { left, top, width };\r\n    })\r\n\r\n    // We the previous height and width to align the items properly on enter,\r\n    // otherwise it will looks like they're sliding on from the side.\r\n    const svgHeight = data[0].r * 2 + this.margin.top + this.margin.bottom;\r\n    const svgHeightChange = svgHeight - this.svg.attr('height');\r\n    const parentWidth = data[0].r * 2 + this.margin.left + this.margin.right + this.lineWidth + this.labelWidth;\r\n    const parentWidthChange = parentWidth - Number.parseInt(this.svg.style('width').replace('px', ''));\r\n\r\n    this.parent\r\n      .transition()\r\n        .call(masterTransition)\r\n        .style('width', `${parentWidth}px`)\r\n\r\n    this.svg\r\n      .transition()\r\n        .call(masterTransition)\r\n        .attr('height', svgHeight)\r\n\r\n    selection.exit()\r\n        .call(g => g.select('line')\r\n            .attr('opacity', 0))\r\n        .call(g => g.select('text')\r\n            .attr('opacity', 0))\r\n      .transition()\r\n        .call(masterTransition)\r\n        .call(g => g.select('circle')\r\n            .attr('cx', data[0].r + this.margin.left)\r\n            .attr('cy', d => data[0].r * 2 - d.r + this.margin.top)\r\n            .attr('opacity', 0))\r\n        .remove();\r\n\r\n    selection\r\n      .transition()\r\n        .call(masterTransition)\r\n        .call(g => g.select('circle')\r\n            .attr('opacity', 1)\r\n            .attr('r', d => d.r)\r\n            .attr('cx', data[0].r + this.margin.left)\r\n            .attr('cy', d => data[0].r * 2 - d.r + this.margin.top))\r\n        .call(g => g.select('line')\r\n            .attr('opacity', 1)\r\n            .attr('x1', d => labels[d.i].left)\r\n            .attr('x2', d => labels[d.i].left + labels[d.i].width)\r\n            .attr('y1', d => labels[d.i].top)\r\n            .attr('y2', d => labels[d.i].top))\r\n        .call(g => g.select('text')\r\n            .attr('opacity', 1)\r\n            .attr('x', d => labels[d.i].left + labels[d.i].width + 5)\r\n            .attr('y', d => labels[d.i].top)\r\n            .text(d => d.label))\r\n\r\n    selection.enter().append('g')\r\n        .call(g => g.append('circle')\r\n            .attr('r', d => d.r)\r\n            .attr('cx', data[0].r + this.margin.left - parentWidthChange / 2)\r\n            .attr('cy', d => data[0].r * 2 - d.r + this.margin.top - svgHeightChange)\r\n            .attr('opacity', 0))\r\n        .call(g => g.append('line')\r\n            .attr('x1', d => labels[d.i].left - parentWidthChange / 2)\r\n            .attr('x2', d => labels[d.i].left + labels[d.i].width - parentWidthChange / 2)\r\n            .attr('y1', d => labels[d.i].top - svgHeightChange)\r\n            .attr('y2', d => labels[d.i].top - svgHeightChange)\r\n            .attr('shape-rendering', 'crispEdges')\r\n            .attr('opacity', 0))\r\n        .call(g => g.append('text')\r\n            .attr('x', d => labels[d.i].left + labels[d.i].width + 5 - parentWidthChange / 2)\r\n            .attr('y', d => labels[d.i].top - svgHeightChange)\r\n            .attr('alignment-baseline', 'central')\r\n            .text(d => d.label)\r\n            .attr('opacity', 0))\r\n      .transition()\r\n        .call(masterTransition)\r\n        .call(g => g.select('circle')\r\n            .attr('cx', data[0].r + this.margin.left)\r\n            .attr('cy', d => data[0].r * 2 - d.r + this.margin.top)\r\n            .attr('opacity', 1))\r\n        .call(g => g.select('line')\r\n            .attr('x1', d => labels[d.i].left)\r\n            .attr('x2', d => labels[d.i].left + labels[d.i].width)\r\n            .attr('y1', d => labels[d.i].top)\r\n            .attr('y2', d => labels[d.i].top)\r\n            .attr('opacity', 1))\r\n        .call(g => g.select('text')\r\n            .attr('x', d => labels[d.i].left + labels[d.i].width + 5)\r\n            .attr('y', d => labels[d.i].top)\r\n            .attr('opacity', 1))\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.scaleData !== this.props.scaleData)\r\n      this.updateData(this.props.scaleData);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"scale-legend\" ref={parent => this.parentRef = parent}>\r\n        <svg ref={svg => this.svgRef = svg} width=\"100%\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nScaleLegend.propTypes = {\r\n  scaleData: PropTypes.arrayOf(PropTypes.shape({\r\n    r: PropTypes.number.isRequired,\r\n    label: PropTypes.string.isRequired\r\n  }))\r\n};\r\n\r\nexport default ScaleLegend;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Filters from './filters/Filters';\r\nimport ColorLegend from './ColorLegend';\r\nimport ScaleLegend from './ScaleLegend';\r\nimport logo from './assets/images/Logo_ViableCities_240pxl.png';\r\nimport './Sidebar.css';\r\n\r\nclass Sidebar extends Component {\r\n  render() {\r\n    const noPartners = !this.props.location.pathname.includes('partners');\r\n\r\n    return (\r\n      <div className=\"sidebar\">\r\n        <div\r\n          className=\"sidebar__top\">\r\n          <a href=\"http://viablecities.com/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img className=\"sidebar__logo\" src={logo} alt=\"Viable Cities\" />\r\n          </a>\r\n          <div style={{ visibility: (noPartners ? 'visible' : 'hidden') }}>\r\n            <Filters data={this.props.data} updateFilteredData={this.props.updateFilteredData} />\r\n          </div>\r\n        </div>\r\n        <div className=\"sidebar__bottom\">\r\n          <ScaleLegend scaleData={this.props.scaleData} />\r\n          <ColorLegend />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Sidebar);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Transition, animated } from 'react-spring';\r\nimport image1 from './assets/images/about/image1.png';\r\nimport image2 from './assets/images/about/image2.png';\r\nimport './About.css';\r\n\r\nclass About extends Component {\r\n  render() {\r\n    return (\r\n      <Transition\r\n        native\r\n        items={this.props.about}\r\n        from={{ background: 'rgba(0, 0, 0, 0)', opacity: 0, transform: 'translate(0, 50px)' }}\r\n        enter={{ background: 'rgba(0, 0, 0, 0.5)', opacity: 1, transform: 'translate(0, 0)' }}\r\n        leave={{ background: 'rgba(0, 0, 0, 0)', opacity: 0, transform: 'translate(0, 30px)' }}>\r\n        {about => about && (props =>\r\n          <animated.div\r\n            className=\"about-bg\"\r\n            style={{ background: props.background }}\r\n            onClick={(e) => e.target === e.currentTarget && this.props.about && this.props.toggleAbout()}>\r\n            <animated.div\r\n              className=\"about-content\"\r\n              style={{ opacity: props.opacity,\r\n                transform: props.transform }}>\r\n              <h1>\r\n                About\r\n              </h1>\r\n              <small>\r\n                ViableCitiesViz, version 0.7 beta [2018-12-04]\r\n              </small>\r\n              <p>\r\n                This web interface is part of ongoing development to create a visualization tool for projects and impact assessment within Viable Cities, the Swedish Strategic Innovation programme for smart sustainable cities (<a href=\"https://viablecities.com/\">viablecities.com</a>). \r\n              </p>\r\n              <p>\r\n                The data has been provided by Viable Cities; the Swedish Energy Agency; The Swedish Innovation Agency: and Formas. It includes information about signed contracts within the Viable Cities project portfolio. \r\n              </p>\r\n              <p>\r\n                ViableCitiesViz is an intermediate result from open source development within the strategic project Knowledge-sharing that develops 2017-2021. If you have questions regarding the data or are interested in beta-testing or a customization for your own organisation, please contact the project leader Charlie Gullström, KTH Viable Cities (<a href=\"mailto:charlie.gullstrom@viablecities.com\">charlie.gullstrom@viablecities.com</a>) or Mario Romero, KTH Visualization Center (<a href=\"mailto:marior@kth.se\">marior@kth.se</a>).\r\n              </p>\r\n              <p>\r\n                The design and development team has consisted of: Jonas Beckman, Charlie Gullström, Tobias Hindersson, Alex Jonsson, Victor Kesten, Åsa Minoz, Mario Romero.\r\n              </p>\r\n              <p>\r\n                This web interface is the intellectual property of Viable Cities, which claims copyright for the images presented herein. We kindly request that Viable Cities be acknowledged if pictures from this interface are quoted, copied, reproduced or distributed, refer to: <a href=\"https://viablecities.com/\">viablecities.com</a>. \r\n              </p>\r\n              <small>\r\n                This work is licensed under a <a rel=\"license\" href=\"http://creativecommons.org/licenses/by/3.0/deed.en_US\">Creative Commons Attribution 3.0 Unported License</a>.\r\n              </small>\r\n              <p className=\"about-content__repo\">\r\n                <strong>GitHub repository:</strong><br/><a href=\"https://github.com/ViableCitiesViz/viablecitiesviz.github.io\">ViableCitiesViz/viablecitiesviz.github.io</a>\r\n              </p>\r\n              <div className=\"about-content__images\">\r\n                <img src={image1} alt=\"Viable Cities logo\" />\r\n                <img src={image2} alt=\"Supporting organizations\" />\r\n              </div>\r\n            </animated.div>\r\n          </animated.div>\r\n        )}\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nAbout.propTypes = {\r\n  about: PropTypes.bool.isRequired,\r\n  toggleAbout: PropTypes.func.isRequired\r\n};\r\n\r\nexport default About;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Spring, animated } from 'react-spring';\r\nimport './InfoBoxSection.css';\r\n\r\nclass InfoBoxSection extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      toggle: props.initToggle || false\r\n    };\r\n    this.onToggle = this.onToggle.bind(this);\r\n  }\r\n\r\n  onToggle() {\r\n    this.setState(state => ({ toggle: !state.toggle }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={`info-box-section ${this.state.toggle ? 'info-box-section--toggled' : ''}`}>\r\n        <div className=\"info-box-section__title\" onClick={this.onToggle}>\r\n          <span className=\"info-box-section__title-text\">{this.props.title}</span>\r\n          <span className='info-box-section__title-cross'>\r\n            +\r\n          </span>\r\n        </div>\r\n        <Spring native from={{ height: this.state.toggle ? 'auto' : 0 }} to={{ height: this.state.toggle ? 'auto' : 0 }}>\r\n          {props => (\r\n            <animated.div className=\"info-box-section__content\" style={props}>\r\n              <div className=\"info-box-section__inner-content\">\r\n                {this.props.children}\r\n              </div>\r\n            </animated.div>\r\n          )}\r\n        </Spring>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInfoBoxSection.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n  initToggle: PropTypes.bool\r\n};\r\n\r\nexport default InfoBoxSection;\r\n","import p1 from '../assets/images/projects/1-Aktivitetsbaserad-modellering.png';\r\nimport p2 from '../assets/images/projects/2-DDS-energieffektiv-vard.jpg';\r\nimport p3 from '../assets/images/projects/3-Digitalt-kontrollerade-odlingssystem.jpg';\r\nimport p4 from '../assets/images/projects/4-Effektiv-energiplanering.jpg';\r\nimport p5 from '../assets/images/projects/5-Hotmodellering.jpg';\r\nimport p6 from '../assets/images/projects/6-Hallbara-urbana-livstillar.jpg';\r\nimport p7 from '../assets/images/projects/7-Klimatkampen-Uppsala.jpg';\r\nimport p8 from '../assets/images/projects/8-Ladda-lagra-lanka.png';\r\nimport p9 from '../assets/images/projects/9-MERiT.jpg';\r\nimport p10 from '../assets/images/projects/10-Mo-Bo.jpg';\r\nimport p11 from '../assets/images/projects/11-Matt-och-steg.jpg';\r\nimport p12 from '../assets/images/projects/12-SAMIR.jpg';\r\nimport p13 from '../assets/images/projects/13-Sensorer-for-luftmiljo.jpg';\r\nimport p14 from '../assets/images/projects/14-R-energi.JPG';\r\nimport p15 from '../assets/images/projects/15-Sharing-Cities-Sweden.jpg';\r\nimport p16 from '../assets/images/projects/16-Matbutik.jpg';\r\nimport p17 from '../assets/images/projects/17-Smart-Village.png';\r\nimport p18 from '../assets/images/projects/18-Smaskalig-elforsorjning.jpg';\r\nimport p19 from '../assets/images/projects/19-Urban-ICT-Arena.jpg';\r\nimport p20 from '../assets/images/projects/20-Vardeskapande-med-oppna-data.jpg';\r\nimport p21 from '../assets/images/projects/21-3De.jpg';\r\n\r\nexport default {\r\n  1: p1,\r\n  2: p2,\r\n  3: p3,\r\n  4: p4,\r\n  5: p5,\r\n  6: p6,\r\n  7: p7,\r\n  8: p8,\r\n  9: p9,\r\n  10: p10,\r\n  11: p11,\r\n  12: p12,\r\n  13: p13,\r\n  14: p15,\r\n  15: p14,\r\n  16: p16,\r\n  17: p17,\r\n  18: p18,\r\n  19: p19,\r\n  20: p20,\r\n  21: p21\r\n};\r\n","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { format } from 'd3';\r\nimport './InfoBox.css';\r\nimport ColorLegendItem from '../ColorLegendItem';\r\nimport InfoBoxSection from './InfoBoxSection';\r\nimport projectImages from './projectImages';\r\nimport { projectTypeColors } from '../matrix/MatrixUtility';\r\n\r\nclass InfoBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.lastProject = null;\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.project !== this.props.project\r\n      || nextProps.location !== this.props.location) return true;\r\n    return false;\r\n  }\r\n\r\n  decorateItems(stringList) {\r\n    return stringList\r\n      .map(str => (<span key={str} className=\"info-box__item-decoration\">{str}</span> ))\r\n      .reduce((acc, cur) => [acc, ', ', cur]);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.project && !this.lastProject) return null;\r\n\r\n    const project = this.props.project || this.lastProject;\r\n    if (this.props.project !== null)\r\n      this.lastProject = this.props.project;\r\n\r\n    const {\r\n      project_title,\r\n      project_organization,\r\n      project_id,\r\n      budget,\r\n      project_manager,\r\n      dates,\r\n      keywords,\r\n      other_financiers,\r\n      other_recipients,\r\n      description,\r\n      project_type,\r\n      locations,\r\n      link,\r\n      website\r\n    } = project.survey_answers;\r\n\r\n    const partners = [...new Set([...other_financiers, ...other_recipients])].sort();\r\n\r\n    const views = {\r\n      Map: { link: `/map/project/${project_id}`, match: '/map' },\r\n      Matrix: { link: `/matrix/project/${project_id}`, match: '/matrix' },\r\n      Partners: { link: `/partners/project/${project_id}`, match: '/partners' }\r\n    }\r\n\r\n    const vizViews = Object.keys(views).map(viewName => {\r\n      const view = views[viewName];\r\n      const match = this.props.location.pathname.includes(view.match);\r\n      return (\r\n        <Link\r\n          key={viewName}\r\n          to={view.link}\r\n          className={`info-box__view-link ${match ? 'info-box__view-link--active' : ''}`}>\r\n          {viewName}\r\n        </Link>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"info-box\">\r\n        <div className=\"info-box__splash\" style={{ backgroundImage: `url(${projectImages[project_id]})` }} />\r\n        <div className=\"info-box__content\">\r\n          <div className=\"info-box__content-header\">\r\n            <h2 className=\"info-box__title\">{project_title}</h2>\r\n            <h3 className=\"info-box__subtitle\">{locations.join(', ')}</h3>\r\n          </div>\r\n          <div>\r\n            <InfoBoxSection title=\"Generell Information\" initToggle={true}>\r\n              <dl>\r\n                <dt>Typ av projekt</dt>\r\n                <dd>\r\n                  <ColorLegendItem text={project_type} color={projectTypeColors(project_type)} />\r\n                </dd>\r\n\r\n                <dt>Projektorganisation</dt>\r\n                <dd>{project_organization}</dd>\r\n\r\n                <dt>Projektledare</dt>\r\n                <dd>{project_manager}</dd>\r\n\r\n                <dt>Total projektbudget</dt>\r\n                <dd>{`${format(',')(budget.total_cost).replace(/,/g, ' ')} kr`}</dd>\r\n\r\n                <dt>Sökt bidrag</dt>\r\n                <dd>{`${format(',')(budget.funded).replace(/,/g, ' ')} kr`}</dd>\r\n\r\n                <dt>Projekttid</dt>\r\n                <dd>{`${dates.start} - ${dates.end}`}</dd>\r\n\r\n                <dt>Projektsida</dt>\r\n                <dd><a href={link}>{link}</a></dd>\r\n\r\n                {website &&\r\n                  <Fragment>\r\n                    <dt>Hemsida</dt>\r\n                    <dd><a href={website}>{website}</a></dd>\r\n                  </Fragment>}\r\n\r\n              </dl>\r\n            </InfoBoxSection>\r\n\r\n            <InfoBoxSection title=\"Nyckelord\">\r\n              <p>\r\n                {this.decorateItems(keywords)}\r\n              </p>\r\n            </InfoBoxSection>\r\n\r\n            <InfoBoxSection title=\"Partners\">\r\n              <p>\r\n                {this.decorateItems(partners)}\r\n              </p>\r\n            </InfoBoxSection>\r\n\r\n            <InfoBoxSection title=\"Beskrivning\">\r\n              <p>\r\n              {description.split('\\n').map((item, key) => {\r\n                return <Fragment key={key}>{item}<br/></Fragment>\r\n              })}\r\n            </p>\r\n            </InfoBoxSection>\r\n          </div>\r\n\r\n          <div className=\"info-box__views\">\r\n            {vizViews}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInfoBox.propTypes = {\r\n  project: PropTypes.object\r\n};\r\n\r\nexport default InfoBox;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { Transition, animated } from 'react-spring';\r\nimport PropTypes from 'prop-types';\r\nimport InfoBox from './InfoBox';\r\nimport './AnimatedInfoBox.css';\r\n\r\nclass AnimatedInfoBox extends Component {\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.data !== this.props.data\r\n      || nextProps.id !== this.props.id\r\n      || nextProps.location !== this.props.location) return true;\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const projectDetails = this.props.data.data\r\n      .reduce((acc, cur) => ({ ...acc, [cur.survey_answers.project_id]: <InfoBox project={cur} location={this.props.location} /> }), {});\r\n\r\n    return (\r\n      <Transition\r\n        native\r\n        items={this.props.id}\r\n        from={{ opacity: 0, transform: 'translateX(80%)' }}\r\n        enter={{ opacity: 1, transform: 'translateX(0)' }}\r\n        leave={{ opacity: 0, transform: 'translateX(70%)'}}>\r\n        {id =>\r\n          id !== -1 &&\r\n            (props => \r\n              <animated.div className=\"info-box-container\" style={{ ...props}}>\r\n                {projectDetails[id]}\r\n              </animated.div>)\r\n        }\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nAnimatedInfoBox.propTypes = {\r\n  data: PropTypes.object,\r\n  id: PropTypes.number\r\n}\r\n\r\nexport default withRouter(AnimatedInfoBox);\r\n","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\nimport Header from './Header';\nimport Matrix from './matrix/Matrix';\nimport Map from './map/Map';\nimport Partners from './partners/Partners'\nimport Sidebar from './Sidebar';\nimport About from './About';\nimport AnimatedInfoBox from './info-box/AnimatedInfoBox';\nimport { GetProjectId } from './ProjectNavigator';\nimport mockData from './assets/data/mock-data-v8.json';\nimport usePreloadImages from './usePreloadImages';\nimport './App.css';\nimport 'react-widgets/dist/css/react-widgets.css';\n\nfunction App() {\n  const [filteredData, setFilteredData] = useState(mockData);\n  const [scaleData, setScaleData] = useState(null);\n  const [about, setAbout] = useState(false);\n\n  usePreloadImages();\n\n  const updateFilteredData = newData => {\n    setFilteredData(newData);\n  }\n\n  const updateScaleData = newData => {\n    setScaleData(newData);\n  }\n\n  const toggleAbout = () => {\n    setAbout(!about);\n  }\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <Header toggleAbout={toggleAbout} />\n        <div className=\"App__content\">\n          <About toggleAbout={toggleAbout} about={about} />\n          <Sidebar data={mockData} updateFilteredData={updateFilteredData} scaleData={scaleData} />\n          <Switch>\n            <Route path=\"/\" exact render={props => (\n              <Redirect to=\"/map\" />\n            )}/>\n            <Route path=\"/map\" render={props => (\n              <Map data={mockData} filteredData={filteredData} updateScaleData={updateScaleData} />\n            )}/>\n            <Route path=\"/matrix\" render={props => (\n              <Matrix data={mockData} filteredData={filteredData} updateScaleData={updateScaleData} />\n            )}/>\n            <Route path=\"/partners\" render={props => (\n              <Partners updateScaleData={updateScaleData} />\n            )}/>\n          </Switch>\n          <Route render={props => (\n            <AnimatedInfoBox\n              data={mockData}\n              id={Number.parseInt(GetProjectId(props.location))}/>\n          )}/>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { useLayoutEffect } from 'react';\r\nimport projectImages from './info-box/projectImages';\r\n\r\n/** \r\n * This avoids the visual bug where an image loads while the infobox,\r\n * this way all the images are already loaded.\r\n *\r\n * NOTE: Might not be feasible with more projects.\r\n */\r\n\r\nexport default function usePreloadImages() {\r\n  useLayoutEffect(() => {\r\n    Object.values(projectImages).forEach(url => {\r\n      const img = new Image();\r\n      img.src = url;\r\n    });\r\n  }, []);\r\n};\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// NOTE: This polyfill causes gh-pages to not work \"Page build failure\"\n// It's still valuable though, giving browser compatability with ie11.\n// So put it back if the website is ever moved away from github pages.\n//import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}